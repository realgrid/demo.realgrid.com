/*!
* RealPivot Evaluation v0.0.4.482
* Copyright 2017 WooriTech Inc. all rights reserved. 
* All Rights Reserved.
*/
var RealPivotClass=function(a){function b(){V&&V.apply(U,arguments)}function c(){S&&V&&V.apply(U,arguments)}function d(){return(new Date).getTime()-W}function e(a){this.message=T?a:"[RealPivot Assert error] "+a}function f(a){return a!==qa&&null!==a}function g(a){return null===a?!1:"object"==typeof a}function h(a){return"string"==typeof a}function j(a,b){return a&&b?a.toLowerCase()==b.toLowerCase():!a&&!b}function k(a){return!a||!a.trim()}function m(a){return a=parseInt(a),isNaN(a)?0:a}function n(a){return Array.isArray?Array.isArray(a):"[object Array]"===toString.call(a)}function o(a){return n(a)?a:[a]}function p(a,b){if(!n(a)||!n(b))return!1;var c=a.length;if(b.length!=c)return!1;for(var d=0;c>d;d++)if("object"==typeof a[d]&&"object"==typeof b[d]){if(!q(a[d],b[d]))return!1}else if(a[d]!=b[d])return!1;return!0}function q(a,b){for(attr in a){if(!b.hasOwnProperty(attr))return!1;if(a[attr]!==b[attr])return!1}for(attr in b){if(!a.hasOwnProperty(attr))return!1;if(b[attr]!==a[attr])return!1}return!0}function r(a,b,c){for(attr in a)if(attr!=c){if(!b.hasOwnProperty(attr))return!1;if(a[attr]!==b[attr])return!1}for(attr in b)if(attr!=c){if(!a.hasOwnProperty(attr))return!1;if(b[attr]!==a[attr])return!1}return!0}function s(a,b,c){for(var d=0,e=a.length;e>d;d++)if(a[d][b]===c)return d;return-1}function t(a,b,c){return b=Math.max(b||2,1),c=c||0,new Array(b-String(a).length+1).join(c)+a}function u(a){return a&&"[object Date]"===Object.prototype.toString.call(a)}function v(a){return/\s/.test(a)}function w(a){return a?a.trim():null}function z(a){a.preventDefault?(a.preventDefault(),a.stopPropagation()):a.returnValue=!1}function A(a){return a.charAt(0).toUpperCase()+a.substr(1)}function B(a){var b=new a.constructor;for(var c in a)b[c]=a[c];return b}function C(a,b){return a==b?!0:0===a.indexOf("*")?(a=a.substr(1,a.length-1),b.substr(b.indexOf(a),a.length)==a):!1}function D(a,b){var c=[];c=a.split(",");for(var d=0,e=c.length;e>d;d++)if(C(c[d],b))return!0;return!1}function E(a){for(var b="",c=0,d=a.length;d>c;c++)b+=String.fromCharCode(a[c]>>1);return b}function F(a){for(var b=blowfish.decrypt(a,Md+E([202,218,204,100]),{outputType:0,cipherMode:0}),c={},d=b.split(";"),e=0,f=d.length;f>e;e++){var g=d[e].split("="),h=g[0],i=g[1];i&&i.length>0&&(c[h]=i)}return c}function G(){throw new Error("Not supported Function.caller")}function H(a){if(n(a)){for(var b=[],c=0,d=a.length;d>c;c++)b.push(H(a[c]));return b}return"function"==typeof a.proxy?a.proxy():a}function I(a){return Object.freeze?Object.freeze(a):a}function J(a,b){this.message=a,this.tokenPos=b}function K(a){this.message=a}function L(a){var b=(""+a).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return b?Math.max(0,(b[1]?b[1].length:0)-(b[2]?+b[2]:0)):0}var M=a||window,N=a&&a.document||document,O="0.0.4.482",P=function(){return O},Q="realpivot_event_stack";__addWindowEventListener=function(a,b,c,d){var e=window[Q];return e||(window[Q]=e=[]),e.push({ref:a,type:b,listener:c,useCapture:d}),M.addEventListener(b,c,d)},__removeWindowEventListener=function(a,b,c,d){return M.addEventListener(M,b,c,d)},__clearWindowEventListeners=function(a){for(var b,c=window[Q],d=c.length-1;d>=0;d--)b=c[d],b.ref===a&&(M.removeEventListener(b.type,b.listener,b.useCapture),c.splice(d,1))};var R="goAAAANSUhEUgAAA",S=!1,T=!1,U=window.console,V=U&&"function"==typeof U.log?Function.prototype.bind.call(U.log,U):qa,W=(new Date).getTime(),X=c;e.prototype=new Error,e.prototype.constructor=e;var Y=function(a,b){if(!a)throw new e(b)};Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),String.prototype.trim||!function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}}(),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c;if(null==this)throw new TypeError('"this" is null or not defined');var d=Object(this),e=d.length>>>0;if(0===e)return-1;var f=+b||0;if(Math.abs(f)===1/0&&(f=0),f>=e)return-1;for(c=Math.max(f>=0?f:e-Math.abs(f),0);e>c;){if(c in d&&d[c]===a)return c;c++}return-1}),Array.prototype.filter||(Array.prototype.filter=function(a){"use strict";if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;for(var d=[],e=arguments.length>=2?arguments[1]:void 0,f=0;c>f;f++)if(f in b){var g=b[f];a.call(e,g,f,b)&&d.push(g)}return d}),function(){var a=0;window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),f=window.setTimeout(function(){b(d+e)},e);return a=d+e,f})}();var Z=function(){this._values={},this._keys={}};Z.prototype={constructor:Z,containsKey:function(a){return a&&this._values.hasOwnProperty(a.$_hash)},isEmpty:function(){for(var a in this._values)return!1;return!0},set:function(a,b){if(!a||!a.$_hash)throw"Invalid key";this._values[a.$_hash]=b,this._keys[a.$_hash]=a},unset:function(a){return a&&this._values.hasOwnProperty(a.$_hash)?(delete this._values[a.$_hash],delete this._keys[a.$_hash],!0):!1},clear:function(){this._values={},this._keys={}},get:function(a){return a?this._values[a.$_hash]:void 0},keys:function(){var a=[];for(var b in this._values)a.push(this._keys[b]);return a},values:function(){var a=[];for(var b in this._values)a.push(this._values[b]);return a},each:function(a){for(var b in this._values)a.call(null,this._keys[b],this._values[b])},checkTrue:function(a){for(var b in this._values)if(a.call(null,this._keys[b],this._values[b]))return!0;return!1},checkFalse:function(a){for(var b in this._values)if(!a.call(null,this._keys[b],this._values[b]))return!0;return!1}};var $=Math.pow(2,53)-1,_=-$,aa=t,ba=(window.RG_CONST&&window.RG_CONST.WEEKDAYS?window.RG_CONST.WEEKDAYS:["일","월","화","수","목","금","토"],w),ca=Math.floor,da=Math.floor,ea=(Math.round,Math.ceil,Math.min),fa=Math.max,ga=Math.abs,ha=navigator.platform.toUpperCase().indexOf("MAC")>=0,ia=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,ja="undefined"!=typeof InstallTrigger,ka=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,la=(!!window.chrome&&!ia,!!document.documentMode,navigator.userAgent.toLowerCase().indexOf("edge/")>=0,function(){for(var a,b=3,c=document.createElement("div"),d=c.getElementsByTagName("i");c.innerHTML="<!--[if gt IE "+ ++b+"]><i></i><![endif]-->",d[0];);return b>4?b:a}()),ma=void 0!==la&&9>=la,na=!1,oa=-1!==navigator.appVersion.indexOf("MSIE 10"),pa=-1!==navigator.appVersion.indexOf("MSIE 9");!function(){var a,b=document.createElement("div"),c=!1;try{a=b.getBoundingClientRect()}catch(d){c=!0}c||isNaN(a.width)?Element.prototype.getBoundingClientRect2=function(){var a=Element.prototype.getBoundingClientRect.call(this);return{left:a.left,right:a.right,width:a.right-a.left,top:a.top,bottom:a.bottom,height:a.bottom-a.top}}:Element.prototype.getBoundingClientRect2=Element.prototype.getBoundingClientRect;try{b.style.background="rgba(0, 0, 0, 1)"}catch(d){na=!0}}(),Object.defineProperty&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(Element.prototype,"textContent")&&!Object.getOwnPropertyDescriptor(Element.prototype,"textContent").get&&!function(){var a=Object.getOwnPropertyDescriptor(Element.prototype,"innerText");Object.defineProperty(Element.prototype,"textContent",{get:function(){return a.get.call(this)},set:function(b){return a.set.call(this,b)}})}();var qa,ra=function(){return{width:M.innerWidth||N.documentElement.clientWidth||N.body.clientWidth,height:M.innerHeight||N.documentElement.clientHeight||N.body.clientHeight}},sa=function(a,b,c){return b==c?0:b>c?1:-1},ta={freeAndNull:function(a){a&&(a.destroy(),a=null)},sortLabels:function(a,b,c,d,e,f){var g,h,i,j,k,l;do{g=e,h=f,i=ca((e+f)/2),j=i;do{if(c){for(;h>=g&&(k=g,l=d(b,a[j]._value,a[k]._value),0==l&&(l=j-k),!(0>=l));)g++;for(;h>=g&&(k=h,l=d(b,a[j]._value,a[k]._value),0==l&&(l=j-k),!(l>=0));)h--}else{for(;h>=g&&(k=g,l=d(b,a[j]._value,a[k]._value),0==l&&(l=k-j),!(l>=0));)g++;for(;h>=g&&(k=h,l=d(b,a[j]._value,a[k]._value),0==l&&(l=k-j),!(0>=l));)h--}if(h>=g){if(g!=h){var m=a[g];a[g]=a[h],a[h]=m}g++,h--}}while(h>=g);h>e&&this.sortLabels(a,b,c,d,e,h),e=g}while(f>e)},sortValues:function(a,b,c,d,e,f){var g,h,i,j,k,l;do{g=e,h=f,i=ca((e+f)/2),j=i;do{if(c){for(;h>=g&&(k=g,l=d(b,a[j]._value.value,a[k]._value.value),0==l&&(l=j-k),!(0>=l));)g++;for(;h>=g&&(k=h,l=d(b,a[j]._value.value,a[k]._value.value),0==l&&(l=j-k),!(l>=0));)h--}else{for(;h>=g&&(k=g,l=d(b,a[j]._value.value,a[k]._value.value),0==l&&(l=k-j),!(l>=0));)g++;for(;h>=g&&(k=h,l=d(b,a[j]._value.value,a[k]._value.value),0==l&&(l=k-j),!(0>=l));)h--}if(h>=g){if(g!=h){var m=a[g];a[g]=a[h],a[h]=m}g++,h--}}while(h>=g);h>e&&this.sortValues(a,b,c,d,e,h),e=g}while(f>e)}},$=(Math.PI,2*Math.PI,Math.pow(2,53)-1),_=-$,ua=-1,va="px",wa={PRODUCT:"RealPivot",TYPE:"Evaluation",VERSION:"v1.0",toString:function(){return this.PRODUCT+" "+this.VERSION+" "+this.TYPE}},xa=function(){var a,b=location.hostname;try{a=realPivotLic}catch(c){return!1}if(!a)return!1;var d=F(a);if(d.name!=wa.PRODUCT)return!1;var e=d.vender?d.vender:null,f=wa.VENDOR?wa.VENDOR:null;if(e!=f)return!1;var g=d.server.toLowerCase();if("Developer"!=wa.TYPE&&!D(g,b.toLowerCase()))return!1;if(licType=d.lic.toLowerCase(),"limited"!=licType&&d.lic!=wa.TYPE)return!1;if("evaluation"==licType||"asp"==licType||"limited"==licType){var h=d.expire.split("."),i=new Date(h[0],h[1],h[2],23,59,59,999);if(new Date>i)return!1}return!0},ya=function(a){this.defaultValue=a},za=(new ya(0),{}),Aa=function(){};Aa.$_hash=0;var Ba=function(a,b,c,d,e){if(null!==b&&"function"!=typeof b)throw"Base class is not a function";var f,g,h,i,j,k,l=function(){arguments[0]!==za&&(this.$inited=!1,this.init&&this.init.apply(this,arguments),this.$inited=!0)},m=l.prototype=b?new b(za):new Aa(za),n=null;if(m.constructor=l,m.$base=b?b.prototype:Aa.prototype,m.$name=a,c){var o={},p=l.$inits={};for(n in c)f=c[n],"function"==typeof f?(f.$name=n,f.$owner=m,m[n]=f):(f&&f.init&&(f=f.init),o[n]=f);l.$attrs={};for(n in o)f=c[n],a=A(n),g="boolean"==typeof f?"is"+a:n,i="set"+a,k=n+"PropChanged",j=null,h=n+"_",m.hasOwnProperty(h)?(j=m[h],delete m[h]):f&&f.get?j=f.get:m.hasOwnProperty(g)||(j=function(a){return function(){return this["_"+a]}}(n)),j&&(j.$name=g,j.$owner=m,m[g]=j),j=null,f&&f.set?j=f.set:m.hasOwnProperty(i)||(j=f instanceof ya?function(a,b){return function(c){var d;return c=parseInt(c),!isNaN(c)&&m[b]&&(d=m[b].call(this))!=c&&(this["_"+a]=c,this.$inited&&(this[k]?this[k].call(this,a,d,c):this.propertyChanged(a,d,c))),this}}(n,g):function(a,b){return function(c){var d;return m[b]&&(d=m[b].call(this))!=c&&(this["_"+a]=c,this.$inited&&(this[k]?this[k].call(this,a,d,c):this.propertyChanged(a,d,c))),this}}(n,g)),j&&(j.$name=i,j.$owner=m,m[i]=j),f&&(f instanceof ya?o[n]=f.defaultValue:"function"==typeof f.init?p[n]=f.init:f.hasOwnProperty("value")&&(o[n]=f.value)),l.$attrs[n]={field:"_"+n,value:o[n],get:m[g],set:m[i]}}if(d)for(n in d)l[n]=d[n];return"function"==typeof e&&e.call(l,l),l};Aa.prototype.constructor=Aa,Aa.prototype.init=function(a){!a&&(this.$_hash=String(++Aa.$_hash));for(var b=this.constructor;b;){var c=b.$inits,d=b.$attrs;if(d)for(var e in d){var f=c[e],g=d[e];f=f?f.call(this):g.value,this[g.field]=f}b=b.prototype.$base&&b.prototype.$base.constructor}};Aa.prototype;Aa.prototype._super=function(){var a,b=this._super.caller;if(b){if(a=b.$owner.$base[b.$name])return a.apply(this,arguments)}else G()},Aa.prototype._inherit=function(a){this.constructor.prototype.$base[a].apply(this,Array.prototype.slice.call(arguments,1))},Aa.prototype.className=function(){return this.constructor.prototype.$name},Aa.prototype.baseClass=function(){return this.constructor.prototype.$base},Aa.prototype.baseClassName=function(){var a=this.constructor.prototype.$base;return a&&a.$name},Aa.prototype.clone=function(){var a,b=this.constructor,c=new b,d=b.$attrs;for(var e in d)a=d[e],c[a.field]=this[a.field];return c},Aa.prototype.propertyChanged=function(a,b,c){},Aa.prototype.getAttr=function(a){for(var b=this.constructor;b;){var c=b.$attrs;if(c&&a in c)return c[a];b=b.prototype.$base&&b.prototype.$base.constructor}return null},Aa.prototype.getProperty=function(a){var b=this.getAttr(a),c=b?b.get?b.get.call(this):b:qa;return c},Aa.prototype.setProperty=function(a,b){var c=this.getAttr(a);c&&c.set&&c.set.call(this,b)},Aa.prototype._initProps=function(a){if(a)for(var b in a){var c="_"+b;this.hasOwnProperty(c)&&(this[c]=a[b])}},Aa.prototype.assign=function(a){if(a instanceof Aa){if(a!==this)for(var b=a.constructor;b;){var c=b.$attrs;for(var d in c){var e=this.getAttr(d);if(e&&e.set&&(h=c[d],h.get)){var f=h.get.call(a);e.set.call(this,f)}}b=b.prototype.$base&&b.prototype.$base.constructor}}else if(g(a)){if(a!==this)for(var d in a)if(a[d]!==qa){var h=this.getAttr(d);h&&h.set&&h.set.call(this,a[d])}}else this.assignSimple(a)},Aa.prototype.assignSimple=function(a){},Aa.prototype.assignProps=function(a,b){if(a&&a!==this&&b)for(var c=0,d=b.length;d>c;c++){var e=b[c];if(a.hasOwnProperty(e)){var f=this.getAttr(e);f&&f.set&&f.set.call(this,a[e])}}},Aa.prototype.proxy=function(){for(var a,b,c,d={},e=this.constructor;e;){a=e.$attrs;for(var f in a)b=a[f],b.get&&(c=b.get.call(this),c&&c.noProxy||(c&&(c=H(c)),d[f]=c));e=e.prototype.$base&&e.prototype.$base.constructor}return d.$_hash=this.$_hash,d},Aa.prototype.as=function(a){return this instanceof a?this:null};var Ca=function(){var a=arguments.callee.caller;throw Errors.NOT_YET_IMPLEMENTED+": "+a.$owner.$name+"::"+a.$name},Da=Ca,Ea=function(a,b){return a instanceof b?a:null},Fa=Ba(null,null,{init:function(a){this._super(a),this._listeners=[]},destroy:function(){for(var a=this._listeners.length;a--;)this._listeners[a]=null;this._listeners=null},addListener:function(a,b){return a&&this._listeners.indexOf(a)<0&&(void 0!=b&&b>ua?this._listeners.splice(b,0,a):this._listeners.push(a)),this},removeListener:function(a){var b;return a&&(b=this._listeners.indexOf(a))>ua&&this._listeners.splice(b,1),this},fireEvent:function(a){var b,c,d,e=this._listeners.length,f=Array.prototype.slice.call(arguments,0);for(f[0]=this,b=0;e>b;b++)c=this._listeners[b],d=c[a],d&&d.apply(c,f)},fireConfirmEvent:function(a){var b,c,d,e=this._listeners.length,f=Array.prototype.slice.call(arguments,0);for(f[0]=this,b=0;e>b;b++)if(c=this._listeners[b],d=c[a]){var g=d.apply(c,f);if("boolean"==typeof g&&!g)return!1}return!0},fireMessageEvent:function(a){var b,c,d,e=this._listeners.length,f=Array.prototype.slice.call(arguments,0);for(f[0]=this,b=0;e>b;b++)if(c=this._listeners[b],d=c[a]){var g=d.apply(c,f);if("string"==typeof g&&g)return g}return null},fireObjectEvent:function(a){var b,c,d,e=this._listeners.length,f=Array.prototype.slice.call(arguments,0);for(f[0]=this,b=0;e>b;b++)if(c=this._listeners[b],d=c[a]){var g=d.apply(c,f);if(g)return g}return null}}),Ga=(Fa.prototype,Ba("VisualElement",Fa,{init:function(){this._super(),this._parent=null,this._parentElement=null,this._container=null,this._childs=[],this._dirty=!1,this._mouseEnabled=!0,this._isContainer=!1,this._hovered=!1,this._mask=null,this._spaceWidth=0,this._spaceHeight=0,this._childFixed=!1,this._element=N.createElement("div"),this._css=this._element.style},destroy:function(){for(var a=this._childs.length;a--;)this._childs[a].destroy(),this._childs[a]=null;this._childs=null,this._mask&&this._mask.destroy(),this._mask=null,this._parent=null,this._parentElement?this._parentElement.removeChild(this._element):this._parent._element.removeChild(this._element),this._element=null,this._super()},left:-1,top:-1,width:0,height:0,visible:!0,cssClass:function(){return this._element.className},setCssClass:function(a){a!=this._element.className&&(this._element.className=a)},setLeft:function(a){a!=this._left&&(this._left=a,this._css.left=a+va)},setTop:function(a){a!=this._top&&(this._top=a,this._css.top=a+va)},setWidth:function(a){a=Math.max(0,a),a!=this._width&&(this._width=a,this._css.width=a-this._spaceWidth+va)},setHeight:function(a){a=Math.max(0,a),a!=this._height&&(this._height=a,this._css.height=a-this._spaceHeight+va)},setVisible:function(a){a!=this._visible&&(this._visible=a,a?this._css.removeProperty("display"):this._css.display="none")},container:function(){return this._parent&&this._parent.container()},parent:function(){return this._parent},setParent:function(a){this._parent=a,a&&a._container&&(this._container=a._container)},childCount:function(){return this._childs?this._childs.length:0},isSingleton:function(){return 1==this._parent.childCount()},mouseX:function(){var a=this._container;if(a){for(var b=a._currentX,c=this;c&&c!==qa;)b-=c._left,c=c._parent;return b}return NaN},mouseY:function(){var a=this._container;if(a){for(var b=a._currentY,c=this;c&&c!==qa;)b-=c._top,c=c._parent;return b}return NaN},mask:function(){return this._mask},setMask:function(a){this._mask=a?a.clone():null},isLayer:function(){return!1},isClickable:function(){return!1},setMouseEnabled:function(a){this._mouseEnabled=a},canHover:function(){return!0},isHovered:function(){return this._hovered},setHovered:function(a){a!=this._hovered&&(this._hovered=a)},getChildren:function(){return this._childs&&this._childs.concat()},getChild:function(a){return this._childs?this._childs[a]:null},getChildIndex:function(a){return this._childs?this._childs.indexOf(a):-1},contains:function(a){return this._childs?this._childs.indexOf(a)>ua:!1},_calcOuterSpace:function(a){var a=getComputedStyle(this._element,null);this._spaceWidth=m(a.getPropertyValue("border-left-width"))+m(a.getPropertyValue("border-right-width"))+m(a.getPropertyValue("padding-left"))+m(a.getPropertyValue("padding-right"))+m(a.getPropertyValue("margin-left"))+m(a.getPropertyValue("margin-right")),this._spaceHeight=m(a.getPropertyValue("border-top-width"))+m(a.getPropertyValue("border-bottom-width"))+m(a.getPropertyValue("padding-top"))+m(a.getPropertyValue("padding-bottom"))+m(a.getPropertyValue("margin-top"))+m(a.getPropertyValue("margin-bottom"))},setParentElement:function(a){this._parentElement=a,this._calcOuterSpace()},addChild:function(a,b){a instanceof Ga&&!this.contains(a)&&(this._childs||(this._childs=[]),b?b.appendChild(a._element):this._element&&this._element.appendChild(a._element),this._childs.push(a),a.setParentElement(b||this._element),a.setParent(this))},removeChild:function(a){if(a&&this._childs){var b=this._childs.indexOf(a);if(b>ua)return this.removeChildAt(b)}return null},removeChildAt:function(a){if(a>ua&&a<this.childCount()){var b=this._childs[a];this._element&&b._element&&this._element.removeChild(b._element),b._parnet=null,this._childs.splice(a,1)}},clear:function(){var a,b=this._childs,c=b?b.length:0;if(!this._childFixed&&c>0){for(a=0;c>a;a++)b[a].destroy();this._childs=[]}},right:function(){return this._left+this._width},bottom:function(){return this._top+this._height},position:function(){return{x:this._left,y:this._top}},bounds:function(){return new Ib(this._left,this._top,this._width,this._height)},clientRect:function(){return new Ib(0,0,this._width,this._height)},getBounds:function(a){return a?a.set(this._left,this._top,this._width,this._height):new Ib(this._left,this._top,this._width,this._height)},getClientRect:function(a){return a?a.set(0,0,this._width,this._height):new Ib(0,0,this._width,this._height)},containsInBounds:function(a,b){return a>=this._left&&a<this.right()&&b>=this._top&&b<this.bottom()},containsInClient:function(a,b){return a>ua&&a<this._width&&b>ua&&b<this._height},translateBy:function(a,b){var c=a;for(b||(b=new Ib(0,0,this._width,this._height));c&&c!==this;)b.x-=c._left,b.y-=c._top,c=c._parent;return b},topBy:function(a,b){for(var c=this._top+b,d=this._parent;d&&d!==a;)c+=d._top,d=d._parent;return c},boundsBy:function(a,b){var c=this._left,d=this._top,e=this._parent;for(b&&(c+=b.x,d+=b.y);e&&e!==a;)c+=e._left,d+=e._top,e=e._parent;return b?new Ib(c,d,b.width,b.height):new Ib(c,d,this._width,this._height)},boundsByContainer:function(a){var b=this._left,c=this._top;a&&(b+=a.x,c+=a.y);for(var d=this._parent;d&&d._left!==qa;)b+=d._left,c+=d._top,d=d._parent;return a?new Ib(b,c,a.width,a.height):new Ib(b,c,this._width,this._height)},boundsByScreen:function(a){return a=this.boundsByContainer(a),a=this.container().toScreen(a)},move:function(a,b){this.setLeft(a),this.setTop(b)},offset:function(a,b){this.setLeft(this._left+a),this.setTop(this._top+b)},inflate:function(a,b){0!=a&&this.setWidth(this.width()+a),0!=b&&this.setHeight(this.height()+b)},shift:function(a,b){a&&(this.setLeft(this._left+a),this.setWidth(this._width-a)),b&&(this.setTop(this._top+b),this.setHeight(this._height-b))},resize:function(a,b){this.setWidth(a),this.setHeight(b)},setSize:function(a,b){this.setWidth(a),this.setHeight(b)},setPosition:function(a,b){this.setLeft(a),this.setTop(b)},setBounds:function(a,b,c,d){this.setLeft(a),this.setTop(b),this.setWidth(c),this.setHeight(d)},setBoundsI:function(a,b,c,d){this.setLeft(a>>0),this.setTop(b>>0),this.setWidth(c>>0),this.setHeight(d>>0)},setRect:function(a){this.setLeft(a.x),this.setTop(a.y),this.setWidth(a.width),this.setHeight(a.height)},setRectI:function(a){this.setLeft(ca(a.x)),this.setTop(ca(a.y)),this.setWidth(ca(a.width)),this.setHeight(ca(a.height))},layoutContent:function(){this._doLayoutContent()},draw:function(){this._doDraw()},_doLayoutContent:function(){},_doDraw:function(){this._doRender(this.clientRect())},_doRender:function(){},hitTest:function(a,b){return a>ua&&a<this._width&&b>ua&&b<this._height},clientToContainer:function(a,b){for(var c=this;c;)a-=c._left,b-=c._top,c=c._parent;return{x:a,y:b}},containerToClient:function(a,b){for(var c=this;c;)a-=c._left,b-=c._top,c=c._parent;return{x:a,y:b}},findChildAt:function(a,b,c){var d,e,f,g,h,i=this._childs,j=i?i.length:0;if(j>0)for(d=j-1;d>=0;d--)if(e=i[d],e.isVisible()&&(c||e._mouseEnabled)){var k=e._left,l=e._top;if("absolute"!=e._css.position){var m=e._element.getBoundingClientRect(),n=this._element.getBoundingClientRect();k=m.left-n.left,l=m.top-n.top}if(g=a-k,h=b-l,e.isLayer()||e.hitTest(g,h)){if(f=e.findChildAt(g,h,c))return f;if(!e.isLayer()&&e._mouseEnabled&&!e._isContainer)return e}}return null},$_prepareSpan:function(){return this._span||(this._span=document.createElement("span"),this._span.className=this.cssClass(),this._element.appendChild(this._span)),this._span}})),Ha=(Ga.prototype,Ba("OverflowContainer",Ga,{init:function(){this._super(),this._isContainer=!0,this._css.position="absolute",this._css.overflow="hidden",this._css.whiteSpace="nowrap"}})),Ia=Ba("PivotElement",Ga,{init:function(a,b){this._super(),this._css.position="absolute",this._drawRect=new Ib,this._grid=a,this.setCssClass(b)},destroy:function(){this._drawRect=null,this._grid=null,this._super()},grid:function(){return this._grid},_doDraw:function(){this.getClientRect(this._drawRect),this._doRender(this._drawRect)},_doLayoutContent:function(){this._layoutCells()},_layoutCells:function(){this._clearCells()},_doRender:function(a){},_clearCells:function(){for(var a=this._childs.length;a--;)this._childs[a].destroy(),delete this._childs[a];this._childs=[]}}),Ja=Ba("ClickableElement",Ia,{init:function(a,b){this._super(a,b),this._request=null,this._tracker=null},destroy:function(){ta.freeAndNull(this._request),ta.freeAndNull(this._tracker),this._super()},enabled:!0,clickable:!0,rightClickable:!1,draggable:!1,click:function(a,b){this._enabled&&this._clickable&&this._doClick(a,b)},rightClick:function(){this._enabled&&this._rightClickable&&this._doRightClick(x,y)},getRequest:function(){return null},getTracker:function(){return null},_doClick:function(a,b){},_doRightClick:function(a,b){}});J.prototype=new Error,J.prototype.constructor=J,K.prototype=new Error,K.prototype.constructor=K;var Ka=function(){for(var a=[],b=0;b<arguments.length;b++)a[arguments[b]]=!0;return a},La={Unknown:0,Add:1,Slash:2,Star:3,Minus:4,Plus:5,Identifier:10,And:11,In:12,Not:13,Div:14,Mod:15,Shl:16,Shr:17,Or:18,Xor:19,ToStr:20,ToNum:21,ToBool:23,Length:24,LengthBin:25,Is:26,IsNot:27,BraceClose:30,BraceOpen:31,Comma:32,CRLF:33,Null:34,Defined:35,Empty:36,NaN:37,Equal:40,Greater:41,GreaterEqual:42,Lower:43,LowerEqual:44,NotEqual:45,Like:46,NotLike:47,ILike:48,NotILike:49,Match:50,NotMatch:51,IMatch:52,NotIMatch:53,String:60,StringLiteral:61,Ascii:62,FloatLiteral:63,IntegerLiteral:64,Point:65,RoundOpen:66,RoundClose:67,DotDot:68,BracketOpen:69,BracketClose:70,Space:71,Symbol:80,ToDateStr:90,ToYear:91,ToMonth:92,ToDay:93,ToHour:94};La.IS_CHECK=Ka(La.Is,La.IsNot),La.IS_RELATIVE=Ka(La.Equal,La.NotEqual,La.Like,La.NotLike,La.ILike,La.NotILike,La.Match,La.NotMatch,La.IMatch,La.NotIMatch,La.Greater,La.GreaterEqual,La.Lower,La.LowerEqual),La.IS_ADDITIVE=Ka(La.Minus,La.Plus,La.Or,La.Xor),La.IS_MULTIPLICATIVE=Ka(La.And,La.Star,La.Slash,La.Div,La.Mod,La.Shl,La.Shr);var Ma=function(){function a(){var a=M.charCodeAt(P);U=P,256>a?L[a]():j()}function b(){O=La.Symbol,P++}function c(){O=La.Comma,P++}function d(){O=La.CRLF,10==M.charCodeAt(P+1)?P+=2:P++,S++,T=P}function e(){O=La.CRLF,P++,S++,T=P}function f(){O=La.Equal,P++}function g(){"="==M.charAt(P+1)?(O=La.GreaterEqual,P+=2):(O=La.Greater,P++)}function h(){"="==M.charAt(P+1)?(O=La.LowerEqual,P+=2):">"==M.charAt(P+1)?(O=La.NotEqual,P+=2):(O=La.Lower,P++)}function i(){for(var a=P;N>a&&!A[M.charCodeAt(a)];)a++;for(var b=a;N>a&&A[M.charCodeAt(a)];)a++;return a>b?(R=a,M.substr(b,a-b).toLowerCase()):null}function j(){for(var a=P;N>P&&(A[M.charCodeAt(P)]||M.charCodeAt(P)>255);)P++;var b=M.substr(a,P-a).toLowerCase();if(I.hasOwnProperty(b))switch(O=I[b]){case La.Not:if(b=i())switch(b){case"like":O=La.NotLike,P=R;break;case"ilike":O=La.NotILike,P=R;break;case"match":O=La.NotMatch,P=R;break;case"imatch":O=La.NotIMatch,P=R}break;case La.Is:b=i(),"not"==b&&(O=La.IsNot,P=R)}else O=La.Identifier}function k(){for(O=La.IntegerLiteral,P++;N>P&&B[M.charCodeAt(P)];)P++}function l(){for(O=La.IntegerLiteral,P++;N>P&&C[M.charCodeAt(P)];){if("."==M.charAt(P)){if("."==M.charAt(P+1))break;O=La.FloatLiteral}P++}}function m(){O=La.Minus,P++}function n(){O=La.Plus,P++}function o(){var a=M.charAt(P+1);"."==a?(O=La.DotDot,P+=2):(O=La.Point,P++)}function p(){O=La.RoundOpen,P++}function q(){O=La.RoundClose,P++}function r(){O=La.Slash,P++}function s(){for(O=La.Space,P++;N>P&&D[M.charCodeAt(P)];)P++}function t(){O=La.BracketOpen,P++}function u(){O=La.BracketClose,P++}function v(){O=La.Star,P++}function w(){O=La.Mod,P++}function x(){O=La.StringLiteral;do{var a=M.charCodeAt(P);if(E[a])throw new J("Untermintated string",a);a==H&&P++,P++}while(N>P&&M.charCodeAt(P)!=F);P++}function y(){O=La.StringLiteral;do{var a=M.charCodeAt(P);if(E[a])throw new J("Untermintated string",a);a==H&&P++,P++}while(N>P&&M.charCodeAt(P)!=G);P++}function z(){var a;for(L=[],a=1;255>=a;a++)L[a]=b;for(a=1;32>=a;a++)L[a]=s;for(L[10]=e,L[13]=d,L["$".charCodeAt()]=k,L[F]=x,L[G]=y,a=0;9>=a;a++)L["0".charCodeAt()+a]=l;for(a="A".charCodeAt();a<="Z".charCodeAt();a++)L[a]=j;for(a="a".charCodeAt();a<="z".charCodeAt();a++)L[a]=j;L["_".charCodeAt()]=j,L["(".charCodeAt()]=p,L[")".charCodeAt()]=q,L["*".charCodeAt()]=v,L["+".charCodeAt()]=n,L[",".charCodeAt()]=c,L["-".charCodeAt()]=m,L[".".charCodeAt()]=o,L["/".charCodeAt()]=r,L["%".charCodeAt()]=w,L["<".charCodeAt()]=h,L["=".charCodeAt()]=f,L[">".charCodeAt()]=g,L["[".charCodeAt()]=t,L["]".charCodeAt()]=u}for(var A=[],B=[],C=[],D=[],E=[],F=0,G=0,H=0,I={},K=0;256>K;K++)A[K]=K=="_".charCodeAt()||K>="0".charCodeAt()&&K<="9".charCodeAt()||K>="a".charCodeAt()&&K<="z".charCodeAt()||K>="A".charCodeAt()&&K<="Z".charCodeAt(),B[K]=K>="0".charCodeAt()&&K<="9".charCodeAt()||K>="a".charCodeAt()&&K<="f".charCodeAt()||K>="A".charCodeAt()&&K<="F".charCodeAt(),C[K]=K>="0".charCodeAt()&&K<="9".charCodeAt()||K==".".charCodeAt()||K=="e".charCodeAt()||K=="E".charCodeAt(),D[K]=K>=1&&9>=K||11==K||K>=14&&32>=K,E[K]=0==K;F='"'.charCodeAt(),G="'".charCodeAt(),H="\\".charCodeAt(),I={},I.str=La.ToStr,I.num=La.ToNum,I.bool=La.ToBool,I.not=La.Not,I.len=La.Length,I.lenb=La.LengthBin,I.and=La.And,I["in"]=La.In,I.mod=La.Mod,I.or=La.Or,I.div=La.Div,I.shl=La.Shl,I.shr=La.Shr,I.xor=La.Xor,I.is=La.Is,I.like=La.Like,I.ilike=La.ILike,I.match=La.Match,I.imatch=La.IMatch,I.defined=La.Defined,I["null"]=La.Null,I.empty=La.Empty,I.nan=La.NaN,I.datestr=La.ToDateStr,I.year=La.ToYear,I.month=La.ToMonth,I.day=La.ToDay,I.hour=La.ToHour;var L=null,M=null,N=0,O=0,P=0,Q=0,R=0,S=0,T=0,U=0;this.tokenId=function(){return O},this.tokenLoc=function(){return{x:U-T,y:S}},this.tokenLen=function(){return P-U},this.token=function(){return M.substr(U,this.tokenLen())},this.isSpace=function(){return O==La.Space},this.init=function(a){M=a,N=a.length,_origin=0,S=0,T=0,U=0,Q=P=0,O=0},this.charAhread=function(){for(Q=P;N>Q&&M.charCodeAt(Q)>0&&M.charCodeAt(Q)<=32;)Q++;return M.charCodeAt(this._runAhead)},this.nextId=function(b){do a();while(N>P&&O!=b)},this.nextNoSpace=function(){if(N>P)do a();while(N>P&&this.isSpace())},this.isFirstInLine=function(){if(0==U)return!0;var a,b=U;for(b--;b>0&&D[M.charCodeAt(b)];)b--;return 0==b?!0:(a=M.charCodeAt(b),10==a||13==a?!0:!1)},z()},Na=Ba("ExpressionNode",null,{init:function(){this._super()},_asLiteral:function(){return null},evaluate:function(){Da()},toString:function(){return String(this)}}),Oa=(Ba("EmptyExpressionNode",Na,{init:function(){this._super()},_asLiteral:function(){return null},evaluate:function(){return void 0},toString:function(){return""}},null,function(a){a.Default=new a}),Ba("ExpressionNodeImpl",Na,{init:function(){this._super(),this.leftExpr=null,this.rightExpr=null,this.operator=La.Unknown,this._literal=null},evaluate:function(a){if(this._literal)return this._literal.value();if(!this.rightExpr)return this.leftExpr.evaluate(a);var b=this.leftExpr.evaluate(a),c=this.rightExpr.evaluate(a);switch(this.operator){case La.Equal:return b==c;case La.NotEqual:return b!=c;case La.Greater:return b>c;case La.GreaterEqual:return b>=c;case La.Lower:return c>b;case La.LowerEqual:return c>=b;case La.Like:return this._calcLike(b,c,!1);case La.NotLike:return!this._calcLike(b,c,!1);case La.ILike:return this._calcLike(b,c,!0);case La.NotILike:return!this._calcLike(b,c,!0);case La.Match:return this._calcMatch(b,c,!1);case La.NotMatch:return!this._calcMatch(b,c,!1);case La.IMatch:return this._calcMatch(b,c,!0);case La.NotIMatch:return!this._calcMatch(b,c,!0);default:throw new K("Unknown operator: "+operator)}},toString:function(){var a="";if(this._literal)a=this._literal.toString();else if(this.rightExpr){var b,c=this.leftExpr.toString(),d=this.rightExpr.toString();switch(this.operator){case La.Equal:b="=";break;case La.NotEqual:b="<>";break;case La.Greater:b=">";break;case La.GreaterEqual:b=">=";break;case La.Lower:b="<";break;case La.LowerEqual:b="<=";break;case La.Like:b="like";break;case La.NotLike:b="not like";break;case La.ILike:b="ilike";break;case La.NotILike:b="not ilike";break;case La.Match:b="match";break;case La.NotMatch:b="not match";break;case La.IMatch:b="imatch";break;case La.NotIMatch:b="not imatch";break;default:b="<<ERROR>>"}a="("+c+" "+b+" "+d+")"}else a=this.leftExpr.toString();return a},isIdentifier:function(a){return this.leftExpr&&!this.rightExpr&&this.leftExpr.isIdentifier(a)},_prepareValue:function(){this.leftExpr._prepareValue(),null==this.rightExpr?this._literal=this.leftExpr._getLiteral():this.rightExpr._prepareValue()},_getLiteral:function(){return this._literal},_calcLike:function(a,b,c){var d=String(a),e=String(b);if(d&&e){c&&(d=d.toLowerCase(),e=e.toLowerCase());var f=e.length;if(f>1){var g="%"==e.charAt(0),h="%"==e.charAt(f-1);return g&&h?(e=e.substr(1,f-2),d.indexOf(e,0)>=0):g?(e=e.substr(1,f-1),f=d.length,d.lastIndexOf(e,f-1)==f-1):h?(e=e.substr(0,f-1),0==d.indexOf(e,0)):d==e}return"%"==e?!1:d==e}return!1},_calcMatch:function(a,b,c){var d=new RegExp(b,"m"+(c?"i":""));return d.test(a);
}})),Pa=Ba("DefinedNode",Na,{init:function(){this._super()}}),Qa=Ba("DefinedNode",Pa,{init:function(){this._super()},value:function(){return qa},_asLiteral:function(){return this},evaluate:function(a){return qa},toString:function(){return"defined"}}),Ra=Ba("EmptyNode",Pa,{init:function(){this._super()},value:function(){return qa},_asLiteral:function(){return this},evaluate:function(a){return qa},toString:function(){return"empty"}}),Sa=Ba("NullNode",Pa,{init:function(){this._super()},value:function(){return qa},_asLiteral:function(){return this},evaluate:function(a){return null},toString:function(){return"null"}}),Ta=Ba("NanNode",Pa,{init:function(){this._super()},value:function(){return NaN},_asLiteral:function(){return this},evaluate:function(a){return NaN},toString:function(){return"NaN"}}),Ua=Ba("CheckNode",Oa,{init:function(a,b,c){this._super(),this.leftExpr=a,this.operator=b,this._isNot=b==La.IsNot,this._value=-1,c instanceof Qa?this._value=Ua.DEFINED:c instanceof Sa?this._value=Ua.NULL:c instanceof Ra?this._value=Ua.EMPTY:c instanceof Ta&&(this._value=Ua.NAN)},_prepareValue:function(){this.leftExpr._prepareValue(),this._literal=this.leftExpr._getLiteral()},_getLiteral:function(){return null},evaluate:function(a){var b,c=this._literal?this._literal.value():this.leftExpr.evaluate(a);switch(this._value){case Ua.DEFINED:b=c!==qa;break;case Ua.NULL:b=c===qa||null===c;break;case Ua.EMPTY:b=c===qa||null===c||0==String(c).length;break;case Ua.NAN:b=null===c||isNaN(c);break;default:return qa}return this._isNot?!b:b},toString:function(){var a="<<ERROR>>";switch(this._value){case Ua.DEFINED:a="defined";break;case Ua.NULL:a="null";break;case Ua.EMPTY:a="empty";break;case Ua.NAN:a="NaN"}return"("+((this._isNot?"is not ":"is ")+a)+")"}},{DEFINED:0,NULL:1,EMPTY:2,NAN:3}),Va=Ba("FloatLiteralNode",Na,{init:function(a){this._super(),this._value=Number(a)},value:function(){return this._value},_asLiteral:function(){return this},evaluate:function(a){return this._value},toString:function(){return String(this._value)}}),Wa=Ba("IntegerLiteralNode",Na,{init:function(a){this._super(),this._value=parseInt(a)},value:function(){return this._value},_asLiteral:function(){return this},evaluate:function(a){return this._value},toString:function(){return String(this._value)}}),Xa=Ba("StringLiteralNode",Na,{init:function(a){this._super(),this._value=a.substr(1,a.length-2);for(var b="",c=0,d=!1;c<this._value.length;)"\\"!=this._value[c]||d?(d=!1,b+=this._value[c++]):(d=!0,c++);this._value=b},value:function(){return this._value},_asLiteral:function(){return this},evaluate:function(a){return this._value},toString:function(){return this._value}}),Ya=Ba("IdentifierNode",Na,{init:function(a){this._super(),this._literal=a,this._idKey=-651212},identifier:function(){return this._literal},evaluate:function(a){return-651212==this._idKey&&(this._idKey=a.isIdentifier(this._literal)),a.evaluateIdentifier(this._idKey)},toString:function(){return this._literal}}),Za=Ba("IndexerNode",Na,{init:function(a,b,c){this._super(),this._ident=a,this._indexer=b,this._capital=c,this._idKey=-1490313,this._intIndex=NaN,this._strIndex=null},_prepareValue:function(){var a=null,b=this._indexer._asLiteral();if(b||(a=this._indexer._prepareValue&&this._indexer,a&&(a._prepareValue(),b=a._getLiteral())),b){var c=b.value();"string"==typeof c?this._strIndex=c:this._intIndex=parseInt(c),this._capital&&this._strIndex&&(this._strIndex=this._strIndex.toUpperCase())}},_getLiteral:function(){return null},evaluate:function(a){if(-1490313==this._idKey&&(this._idKey=a.isIdentifier(this._ident)),this._strIndex)return a.evaluateIndexerS(this._idKey,this._strIndex,this._capital);if(isNaN(this._intIndex)){var b=this._indexer.evaluate(a);return"string"==typeof b?a.evaluateIndexerS(this._idKey,b,this._capital):a.evaluateIndexerI(this._idKey,b)}return a.evaluateIndexerI(this._idKey,this._intIndex)},toString:function(){var a=this._ident+"["+this._indexer.toString()+"]";return a}}),$a=Ba("UnaryNode",Na,{init:function(a){this._super(),this._factor=a,this._literal=null},_prepareValue:function(){this._literal=this._factor._asLiteral(),!this._literal&&this._factor._prepareValue&&(this._factor._prepareValue(),this._literal=this._factor._getLiteral())},_getLiteral:function(){return null}}),_a=Ba("LenNode",$a,{init:function(a){this._super(a)},evaluate:function(a){var b=this._literal?this._literal.value():this._factor.evaluate(a);return b?b.length:0},toString:function(){return"(len "+this._factor+")"}}),ab=Ba("MinusNode",$a,{init:function(a){this._super(a)},evaluate:function(a){var b=this._literal?this._literal.value():this._factor.evaluate(a);return-b},toString:function(){return"-"+this._factor}}),bb=Ba("PlusNode",$a,{init:function(a){this._super(a)},evaluate:function(a){var b=this._literal?this._literal.value():this._factor.evaluate(a);return b},toString:function(){return"+"+this._factor}}),cb=Ba("NotNode",$a,{init:function(a){this._super(a)},evaluate:function(a){var b=this._literal?this._literal.value():this._factor.evaluate(a);return!b},toString:function(){return"(not "+this._factor+")"}}),db=Ba("ToBoolNode",$a,{init:function(a){this._super(a)},evaluate:function(a){var b=this._literal?this._literal.value():this._factor.evaluate(a);return Boolean(b)},toString:function(){return"(bool "+this._factor+")"}}),eb=Ba("ToNumberNode",$a,{init:function(a){this._super(a)},evaluate:function(a){var b=this._literal?this._literal.value():this._factor.evaluate(a);return Number(b)},toString:function(){return"(num "+this._factor+")"}}),fb=Ba("ToStringNode",$a,{init:function(a){this._super(a)},evaluate:function(a){var b=this._literal?this._literal.value():this._factor.evaluate(a);return String(b)},toString:function(){return"(str "+this._factor+")"}}),gb=Ba("ToDateStringNode",$a,{init:function(a){this._super(a)},evaluate:function(a){var b=this._literal?this._literal.value():this._factor.evaluate(a);return b instanceof Date&&(b=t(b.getFullYear(),4)+t(b.getMonth()+1,2)+t(b.getDate(),2)+t(b.getHours(),2)+t(b.getMinutes(),2)+t(b.getSeconds(),2)+t(b.getMilliseconds(),3)),String(b)},toString:function(){return"(datestr "+this._factor+")"}}),hb=Ba("ToYearNode",$a,{init:function(a){this._super(a)},evaluate:function(a){var b=this._literal?this._literal.value():this._factor.evaluate(a);return b instanceof Date?b.getFullYear():null},toString:function(){return"(year "+this._factor+")"}}),ib=Ba("ToMonthNode",$a,{init:function(a){this._super(a)},evaluate:function(a){var b=this._literal?this._literal.value():this._factor.evaluate(a);return b instanceof Date?b.getMonth()+1:null},toString:function(){return"(month "+this._factor+")"}}),jb=Ba("ToDayNode",$a,{init:function(a){this._super(a)},evaluate:function(a){var b=this._literal?this._literal.value():this._factor.evaluate(a);return b instanceof Date?b.getDate():null},toString:function(){return"(day "+this._factor+")"}}),kb=Ba("ToHourNode",$a,{init:function(a){this._super(a)},evaluate:function(a){var b=this._literal?this._literal.value():this._factor.evaluate(a);return b instanceof Date?b.getHours():null},toString:function(){return"(hour "+this._factor+")"}}),lb=Ba("TermNode",Na,{init:function(){this._super(),this._factors=[],this._operators=[],this._literal=null},addFactor:function(a){this._factors.push(a)},addOperator:function(a){this._operators.push(a)},isIdentifier:function(a){return 1==this._factors.length&&this._factors[0]instanceof Ya&&this._factors[0].identifier()==a},_prepareValue:function(){var a,b,c;for(a=0,b=this._factors.length;b>a;a++)c=this._factors[a],c._prepareValue&&c._prepareValue();0==this._operators.length&&(c=this._factors[0],this._literal=c._asLiteral(),!this._literal&&c._prepareValue&&(this._literal=c._getLiteral()))},_getLiteral:function(){return this._literal},evaluate:function(a){if(this._literal)return this._literal.value();var b,c,d=this._factors.length,e=this._factors[0].evaluate(a);for(b=1;d>b;b++)switch(c=this._factors[b].evaluate(a),this._operators[b-1]){case La.And:e=e&&c;break;case La.Star:e*=c;break;case La.Slash:e/=c;break;case La.Div:e=da(da(e)/da(c));break;case La.Mod:e%=c;break;case La.Shl:e<<=c;break;case La.Shr:e>>=c}return e},toString:function(){var a="";if(this._literal)a=this._literal.toString();else if(1==this._factors.length)a=this._factors[0].toString();else{var b,c=this._factors.length;for(a="("+this._factors[0].toString(),b=1;c>b;b++){switch(this._operators[b-1]){case La.And:a+=" and ";break;case La.Star:a+=" * ";break;case La.Slash:a+=" / ";break;case La.Div:a+=" / ";break;case La.Mod:a+=" mod ";break;case La.Shl:a+=" shl ";break;case La.Shr:a+=" shr "}a+=this._factors[b].toString()}a+=")"}return a}}),mb=Ba("SimpleExpressioNode",Na,{init:function(){this._super(),this._terms=[],this._operators=[],this._literal=null},addTerm:function(a){this._terms.push(a)},addOperator:function(a){this._operators.push(a)},isIdentifier:function(a){return 1==this._terms.length&&this._terms[0].isIdentifier(a)},_prepareValue:function(){var a,b;for(a=0,b=this._terms.length;b>a;a++)this._terms[a]._prepareValue();0==this._operators.length&&(this._literal=this._terms[0]._getLiteral())},_getLiteral:function(){return this._literal},evaluate:function(a){if(this._literal)return this._literal.value();var b,c,d=this._terms.length,e=this._terms[0].evaluate(a);for(b=1;d>b;b++)switch(c=this._terms[b].evaluate(a),this._operators[b-1]){case La.Minus:e-=c;break;case La.Plus:e+=c;break;case La.Or:e=e||c;break;case La.Xor:e^=c}return e},toString:function(){var a="";if(this._literal)a=this._literal.toString();else if(1==this._terms.length)a=this._terms[0].toString();else{var b,c=this._terms.length;for(a="("+this._terms[0].toString(),b=1;c>b;b++){switch(this._operators[b-1]){case La.Minus:a+=" - ";break;case La.Plus:a+=" + ";break;case La.Or:a+=" or ";break;case La.Xor:a+=" xor ";break;default:a+=" <<ERROR>> "}a+=this._terms[b].toString()}a+=")"}return a}}),nb=function(){function a(a){if(a!=D.tokenId())throw new J("Token is not a expected kind ["+a+"]: "+D.tokenId(),D.tokenLoc());b()}function b(){D.nextNoSpace()}function c(){var a,c,e,f=null,g=d();if(La.IS_CHECK[e=D.tokenId()]){if(b(),a=d(),a._prepareValue(),c=Ea(a._getLiteral(),Pa),!c)throw new J("is operator's operand must be defined, null or empty: "+D.tokenId());f=new Ua(g,e,c)}else f=new Oa,f.leftExpr=g,La.IS_RELATIVE[D.tokenId()]&&(f.operator=D.tokenId(),b(),f.rightExpr=d());return f}function d(){var a=new mb;for(a.addTerm(e());La.IS_ADDITIVE[D.tokenId()];)a.addOperator(D.tokenId()),b(),a.addTerm(e());return a}function e(){var a=new lb;for(a.addFactor(f());La.IS_MULTIPLICATIVE[D.tokenId()];)a.addOperator(D.tokenId()),b(),a.addFactor(f());return a}function f(){var a=D.tokenId();switch(a){case La.StringLiteral:return g();case La.RoundOpen:return h();case La.Identifier:return i();case La.IntegerLiteral:return k();case La.FloatLiteral:return j();case La.Minus:return l();case La.Plus:return m();case La.Not:return n();case La.Defined:return o();case La.Null:return p();case La.Empty:return q();case La.NaN:return r();case La.ToBool:return s();case La.ToNum:return t();case La.ToStr:return u();case La.Length:return v();case La.LengthBin:return w();case La.ToDateStr:return x();case La.ToYear:return y();case La.ToMonth:return z();case La.ToDay:return A();case La.ToHour:return B()}throw new J("Unkown token: "+a)}function g(){var a=D.token();return b(),new Xa(a)}function h(){b();var d=c();return a(La.RoundClose),d}function i(){var d=D.token();if(b(),D.tokenId()==La.BracketOpen){b();var e=c();return a(La.BracketClose),new Za(d,e,C.indexOf(d)>=0)}return new Ya(d)}function j(){var a=D.token();return b(),new Va(a)}function k(){var a=D.token();return b(),new Wa(a)}function l(){return b(),new ab(f())}function m(){return b(),new bb(f())}function n(){return b(),new cb(f())}function o(){return b(),new Qa}function p(){return b(),new Sa}function q(){return b(),new Ra}function r(){return b(),new Ta}function s(){return b(),new db(f())}function t(){return b(),new eb(f())}function u(){return b(),new fb(f())}function v(){return b(),new _a(f())}function w(){return b(),new LenBinNode(f())}function x(){return b(),new gb(f())}function y(){return b(),new hb(f())}function z(){return b(),new ib(f())}function A(){return b(),new jb(f())}function B(){return b(),new kb(f())}var C=null,D=new Ma;this.parse=function(a,d){if(!a)return null;C=d||[],D.init(a),b();var e=c();return e&&e._prepareValue(),e},this.evaluate=function(a,b,c){var d=this.parse(a,c);return d.evaluate(b)}};nb.Default=new nb;var ob=Ba("ExpressionRuntime",null,{init:function(){this._super()},isIdentifier:function(a){throw new Error("Token is not a valid Identifier: "+a)},evaluateIdentifier:function(a){throw new Error("Invalid identifier key: "+a)},evaluateIndexerI:function(a,b){throw new Error("Invalid identifier indexer: "+a)},evaluateIndexerS:function(a,b){throw new Error("Invalid identifier indexer: "+a)}}),pb=Ba("FilterRuntime",ob,{init:function(){this._super(),this._value=null},setData:function(a){this._value=a},isIdentifier:function(a){return a=a.toLowerCase(),pb.IDENTS.hasOwnProperty(a)?pb.IDENTS[a]:this._super(a)},evaluateIdentifier:function(a){switch(a){case pb.ID_VALUE:return this._value}throw new K("Invalid identifier key: "+a)}},{ID_VALUE:0},function(a){a.IDENTS={value:a.ID_VALUE}}),qb='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',rb=function(a){return a>=26?(a-=26,String.fromCharCode(da(a/26)+65)+String.fromCharCode(da(a%26)+65)):String.fromCharCode(a+65)},sb=function(a){var b="",c=/(>)(<)(\/*)/g;a=a.replace(c,"$1\r\n$2$3");for(var d=0,e=a.split("\r\n"),f=0,g=e.length;g>f;f++){var h=e[f],i=0;h.match(/.+<\/\w[^>]*>$/)?i=0:h.match(/^<\/\w/)?0!=d&&(d-=1):i=h.match(/^<\w[^>]*[^\/]>.*$/)?1:0;for(var j="",k=0;d>k;k++)j+="  ";b+=j+h+"\r\n",d+=i}return b},tb=Ba("ExcelStrings",null,{init:function(a){this._super(),this._workbook=a,this._nextId=0,this._count=0,this._stringMap={},this._strings=[]},count:function(){return this._count},uniqueCount:function(){return this._nextId},add:function(a){this._count++;var b=this._stringMap[a];return void 0===b&&(b=this._nextId++,this._stringMap[a]=b,this._strings[b]=a),b},getIndex:function(a){return this._stringMap[a]},createPart:function(){var a='<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"></sst>',b=_parseXml(a),c=b.documentElement,d=/^\s|\s$/;c.setAttribute("count",this._count),c.setAttribute("uniqueCount",this._nextId);for(var e=0,f=this._strings.length;f>e;e++){var g=b.createElement("si");c.appendChild(g);var h=b.createElement("t");g.appendChild(h);var i=b.createTextNode(this._strings[e]);h.appendChild(i),d.test(this._strings[e])?h.setAttribute("xml:space","preserve"):null}return a=_xmlToStr(b),qb+a}}),ub=function(){this.id=void 0,this.name="Tahoma",this.size=10,this.color="ff000000",this.bold=!1,this.italic=!1,this.scheme=void 0};ub.prototype.serialize=function(a,b){_addChildWithAttr(a,b,"sz","val",this.size||10),_addChildWithAttr(a,b,"name","val",this.name||"Calibri"),_addChildWithAttr(a,b,"color","rgb",this.color||"ff000000"),_addChildWithAttr(a,b,"b","val",this.bold?"true":"false"),_addChildWithAttr(a,b,"i","val",this.italic?"true":"false")};var vb=function(){this.id=void 0,this.patternType="none",this.color=void 0,this.gradient=void 0,this.color2=void 0,this.degree="90",this.tint=0,this.serialize=function(a,b){var c;if("linear"==this.gradient){var d=a.createElement("gradientFill");b.appendChild(d),d.setAttribute("degree",this.degree);var e=a.createElement("stop");d.appendChild(e),e.setAttribute("position","0"),c=a.createElement("color"),e.appendChild(c),c.setAttribute("rgb",this.color),c.setAttribute("tint",this.tint),e=a.createElement("stop"),d.appendChild(e),e.setAttribute("position","1"),c=a.createElement("color"),e.appendChild(c),c.setAttribute("rgb",this.color2),c.setAttribute("tint",this.tint)}else{var f=a.createElement("patternFill");b.appendChild(f),f.setAttribute("patternType",this.patternType),"none"!=this.patternType&&(c=a.createElement("fgColor"),f.appendChild(c),c.setAttribute("rgb",this.color),c.setAttribute("tint",this.tint))}}},wb=function(){this.id=void 0,this.left=void 0,this.right=void 0,this.top=void 0,this.bottom=void 0};wb.prototype.serialize=function(a,b){this.serializeBorder(a,b,"left"),this.serializeBorder(a,b,"right"),this.serializeBorder(a,b,"top"),this.serializeBorder(a,b,"bottom")},wb.prototype.serializeBorder=function(a,b,c){var d=a.createElement(c);if(b.appendChild(d),c=this[c]){d.setAttribute("style","thin");var e=a.createElement("color");d.appendChild(e),e.setAttribute("rgb",c._color.toColorHex())}};var xb=function(){this.id=void 0,this.horzAlign=xb.ALIGN_NEAR,this.vertAlign=xb.VALIGN_CENTER,this.wrapText=!1,this.formatId=0,this.font=null,this.fill=null,this.border=null,this.xfId=0};xb.ALIGN_NEAR="left",xb.ALIGN_CENTER="center",xb.ALIGN_FAR="right",xb.VALIGN_NEAR="top",xb.VALIGN_CENTER="center",xb.VALIGN_FAR="bottom",xb.prototype.clone=function(){var a=new xb;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a.id=void 0,a},xb.prototype.serialize=function(a,b){this.border&&b.setAttribute("borderId",this.border?this.border.id:"0"),this.fill&&b.setAttribute("fillId",this.fill?this.fill.id:"0"),this.font&&b.setAttribute("fontId",this.font?this.font.id:"0"),b.setAttribute("numFmtId",this.formatId),b.setAttribute("xfId","0");var c=a.createElement("alignment");b.appendChild(c),c.setAttribute("horizontal",this.horzAlign),c.setAttribute("vertical",this.vertAlign),this.wrapText&&c.setAttribute("wrapText","1")},$$_EXCEL_NUMFMT_START=200;var yb=Ba("ExcelStyles",null,{init:function(a){this._super(),this._book=a,this._fonts=[],this._fills=[],this._borders=[],this._numFormats=[],this._xfs=[];var b=new vb;this._fills.push(b,b);var c=new wb;this._borders.push(c);var d=new ub;this._fonts.push(d);var e=new xb;this._xfs.push(e)},addFont:function(a){return a?(this._fonts.push(a),a.id=this._fonts.length-1):0},addFill:function(a){return a?(this._fills.push(a),a.id=this._fills.length-1):0},addBorder:function(a){return a?(this._borders.push(a),a.id=this._borders.length-1):0},addNumberFormat:function(a){var b=this._numFormats.indexOf(a);return 0>b&&(this._numFormats.push(a),b=this._numFormats.length-1),$$_EXCEL_NUMFMT_START+b},add:function(a){return a?(this._xfs.push(a),a.id=this._xfs.length-1):0},createPart:function(){var a='<styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"></styleSheet>',b=_parseXml(a),c=b.documentElement;if(this._numFormats.length>0){var d=b.createElement("numFmts");c.appendChild(d),this.$_createNumberFormats(b,d)}var e=b.createElement("fonts");c.appendChild(e),this.$_createFonts(b,e);var f=b.createElement("fills");c.appendChild(f),this.$_createFills(b,f);var g=b.createElement("borders");c.appendChild(g),this.$_createBorders(b,g);var h=b.createElement("cellStyleXfs");c.appendChild(h),this.$_createDefXfs(b,h);var i=b.createElement("cellXfs");return c.appendChild(i),this.$_createXfs(b,i),a=_xmlToStr(b),qb+a},$_createNumberFormats:function(a,b){for(var c=0,d=this._numFormats.length;d>c;c++){var e=a.createElement("numFmt");_setXmlAttr(e,"formatCode",this._numFormats[c]),_setXmlAttr(e,"numFmtId",$$_EXCEL_NUMFMT_START+c),b.appendChild(e)}},$_createFonts:function(a,b){if(this._fonts.length<1){var c=new ub;this._fonts.push(c)}for(var d=0,e=this._fonts.length;e>d;d++){var f=a.createElement("font");this._fonts[d].serialize(a,f),b.appendChild(f)}b.setAttribute("count",this._fonts.length)},$_createFills:function(a,b){if(this._fills.length<1){var c=new vb;this._fills.push(c)}for(var d=0,e=this._fills.length;e>d;d++){var f=a.createElement("fill");this._fills[d].serialize(a,f),b.appendChild(f)}b.setAttribute("count",this._fills.length)},$_createBorders:function(a,b){if(this._borders.length<1){var c=new wb;this._borders.push(c)}for(var d=0,e=this._borders.length;e>d;d++){var f=a.createElement("border");this._borders[d].serialize(a,f),b.appendChild(f)}b.setAttribute("count",this._borders.length)},$_createDefXfs:function(a,b){var c=a.createElement("xf");b.appendChild(c),c.setAttribute("borderId",0),c.setAttribute("fillId",0),c.setAttribute("fontId",0),c.setAttribute("numFmtId",0),b.setAttribute("count",1)},$_createXfs:function(a,b){if(this._xfs.length<1){var c=new xb;this._xfs.push(c)}for(var d=0,e=this._xfs.length;e>d;d++){var f=this._xfs[d],g=a.createElement("xf");f.serialize(a,g),b.appendChild(g)}b.setAttribute("count",this._xfs.length)}}),zb=Ba("ExcelSheet",null,{init:function(a){this._super(),this._book=a,this._columns=null,this._doc=null,this._viewRoot=null,this._dataRoot=null,this._mergeRoot=null,this._rows=[],this._mergeCount=0,this._outlineLevel=0,this.$_preparePart(),this._dateConverter=tc.Default},colCount:function(){return this._columns.length},rowCount:function(){return this._rows.length},setColumns:function(a){this._columns=a},addRow:function(a,b){var c=this._rows[a];if(!c){var c=this._doc.createElement("row");c.setAttribute("r",a+1),b&&b>-1&&(c.setAttribute("ht",b),c.setAttribute("customHeight","1")),this._rows[a]=c,this._dataRoot.appendChild(c)}return c},setRowLevel:function(a,b){if(b>=0){var c=this._rows[a];c&&(c.setAttribute("outlineLevel",b),this._outlineLevel=Math.max(b,this._outlineLevel))}},addBlank:function(a,b,c){var d=this.addRow(a),e=this._doc.createElement("c");e.setAttribute("r",rb(b)+(a+1)),c&&e.setAttribute("s",c.id),d.appendChild(e)},addMerge:function(a,b,c,d){var e=rb(b)+(a+1)+":"+rb(b+d-1)+(a+c),f=this._doc.createElement("mergeCell");f.setAttribute("ref",e),this._mergeRoot.appendChild(f),this._mergeCount++},$_addCell:function(a,b,c,d,e,f){var g=this.addRow(a,f),h=this._doc.createElement("c");h.setAttribute("r",rb(b)+(a+1)),h.setAttribute("t",c),e&&h.setAttribute("s",e.id),g.appendChild(h);var i=this._doc.createElement("v");i.appendChild(this._doc.createTextNode(d)),h.appendChild(i)},addText:function(a,b,c,d,e){var f=void 0!==c&&null!==c?c:"";f=this._book.addString(f),this.$_addCell(a,b,"s",f,d,e)},addNumber:function(a,b,c,d,e,f){var g=isNaN(c)?"":String(c);this.$_addCell(a,b,"n",g,d)},addBool:function(a,b,c,d,e,f){this.$_addCell(a,b,"b",c?1:0,d)},addDate:function(a,b,c,d,e,f,g){if(c)if(g){var h=this._dateConverter.toExcelDate(c);this.addNumber(a,b,h,d)}else{var i=this.$_dateToStr(c);this.$_addCell(a,b,"d",i,d)}else this.$_addCell(a,b,"s","",d)},createPart:function(){var a=this._doc,b=a.documentElement,c="A1:"+rb(this._columns.length-1)+this._book._sheet._rows.length,d=a.getElementsByTagName("dimension");if(d&&d.length>0&&d[0].setAttribute("ref",c),this._outlineLevel>0){var e=a.createElement("sheetFormatPtr");b.appendChild(e),e.setAttribute("outlineLevelRow",this._outlineLevel)}if(this._columns){var f=a.createElement("cols");b.appendChild(f),this.$_createCols(a,f)}b.appendChild(this._dataRoot),this._mergeCount>0&&(b.appendChild(this._mergeRoot),this._mergeRoot.setAttribute("count",this._mergeCount));var g=_xmlToStr(a);return sb(qb+g)},$_preparePart:function(){var a='<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"></worksheet>',b=this._doc=_parseXml(a),c=b.createElement("dimension");b.documentElement.appendChild(c);var d=b.createElement("sheetViews");b.documentElement.appendChild(d);var e=this._viewRoot=b.createElement("sheetView");d.appendChild(e),e.setAttribute("workbookViewId","0"),e.setAttribute("tabSelected","1"),e.setAttribute("showOutlineSymbols","true"),this._dataRoot=b.createElement("sheetData"),this._mergeRoot=b.createElement("mergeCells")},$_createCols:function(a,b){for(var c=this._columns,d=0,e=c.length;e>d;d++){var f=c[d],g=a.createElement("col");f.serialize(a,g),b.appendChild(g)}},$_dateToStr:function(a){return t(a.getFullYear(),4)+t(a.getMonth()+1,2)+t(a.getDate(),2)+"T"+t(a.getHours(),2)+t(a.getMinutes(),2)+t(a.getSeconds(),2)}}),Ab=(Ba("ExcelWorkbook",null,{init:function(){this._super(),this._parts={},this._sst=new tb(this),this._styles=new yb(this),this._sheet=new zb(this),this.$_preapreTemplateParts()},parts:function(){return this._parts},sheet:function(){return this._sheet},addString:function(a){return this._sst.add(a)},addNumberFormat:function(a){return this._styles.addNumberFormat(a)},addFill:function(a){return this._styles.addFill(a)},addBorder:function(a){return this._styles.addBorder(a)},addFont:function(a){return this._styles.addFont(a)},addStyle:function(a){return this._styles.add(a)},createParts:function(){var a=this._parts;return a["xl/sharedStrings.xml"]=this._sst.createPart(),a["xl/styles.xml"]=this._styles.createPart(),a["xl/worksheets/sheet1.xml"]=this._sheet.createPart(),a},$_preapreTemplateParts:function(){var a=this._parts;a["[Content_Types].xml"]=qb+'<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/><Default Extension="xml" ContentType="application/xml"/><Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/><Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/><Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"/><Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"/></Types>',a["_rels/.rels"]=qb+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/></Relationships>',a["docProps/app.xml"]=qb+'<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties"><Application>RealGridJS</Application><AppVersion>1.0</AppVersion></Properties>',a["docProps/core.xml"]=qb+'<coreProperties xmlns="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dcterms:created xsi:type="dcterms:W3CDTF">2014-12-25T03:06:34Z</dcterms:created><dc:creator>Wooritech</dc:creator></coreProperties>',a["xl/workbook.xml"]=qb+'<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"><workbookPr date1904="false"/><bookViews><workbookView activeTab="0"/></bookViews><sheets><sheet name="Sheet1" r:id="rId3" sheetId="1"/></sheets></workbook>',a["xl/_rels/workbook.xml.rels"]=qb+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/></Relationships>'}}),Ba("Dom",null,{init:function(a){this._super(),this._element=a},x:function(){return this._element.offsetLeft},y:function(){return this._element.offsetTop},size:function(){return Ab.getSize(this._element)},element:function(){return this._element},detach:function(){this._element.parentNode&&this._element.parentNode.removeChild(this._element)},clearChildren:function(){Ab.clearChildren(this._element)},addChild:function(a){Ab.addChild(this._element,a)},setStyles:function(a){Ab.setStyles(this._element,a)},getBounds:function(){return Ab.getBounds(this._element)},getOffset:function(){return Ab.getOffset(this._element)},move:function(a,b){Ab.move(this._element,a,b)},disableSelection:function(){Ab.disableSelection(this._element)},isAncestorOf:function(a){for(var b=a.parentElement;b;)if(b==this._element)return!0;return!1}},{createElement:function(a,b,c){var d=document.createElement(a);if(b&&Ab.setStyles(d,b),c)for(var e in c)d[e]=c[e];return d},setStyles:function(a,b){if(b){var c=a.style;for(var d in b)c[d]=b[d]}},addWindowListener:function(a,b){__addWindowEventListener(this,a,b)},removeWindowListener:function(a,b){__removeWindowEventListener(this,a,b)},getSize:function(a){var b=a.getBoundingClientRect();return{width:b.width,height:b.height}},setSize:function(a,b,c){var d=a.style;d.width=b+"px",d.height=c+"px"},getBounds:function(a){var b=a.getBoundingClientRect();return b.cx=a.offsetLeft,b.cy=a.offsetTop,b},setBounds:function(a,b,c,d,e){var f=a.style;f.left=b+"px",f.top=c+"px",f.width=d+"px",f.height=e+"px"},getScrolled:function(){var a=document.body,b=document.documentElement;return{sx:window.pageXOffset||b.scrollLeft||a.scrollLeft,sy:window.pageYOffset||b.scrollTop||a.scrollTop}},getOffset:function(a){var b=a.getBoundingClientRect(),c=document.body,d=document.documentElement,e=window.pageYOffset||d.scrollTop||c.scrollTop,f=window.pageXOffset||d.scrollLeft||c.scrollLeft,g=d.clientTop||c.clientTop||0,h=d.clientLeft||c.clientLeft||0,i=b.left+f-h,j=b.top+e-g;return{x:Math.round(i),y:Math.round(j)}},move:function(a,b,c){a.style.left=b+"px",a.style.top=c+"px"},disableSelection:function(a){a.style["-moz-user-select"]="-moz-none",a.style["-khtml-user-select"]="none",a.style["-webkit-user-select"]="none",a.style["-o-user-select"]="none",a.style["-ms-user-select"]="none",a.style["user-select"]="none"},addChild:function(a,b){return a&&b&&b.parentNode!==a?(a.appendChild(b),!0):!1},removeChild:function(a,b){return a&&b&&b.parentNode===a?(a.removeChild(b),!0):!1},clearChildren:function(a){for(var b=a;b.lastChild;)b.removeChild(b.lastChild)},getChildIndex:function(a){if(a){var b=a.parentNode;if(b)for(var c=b.childNodes,d=0;d<c.length;d++)if(c[d]===a)return d}return-1},getRadioGroupValue:function(a){var b=document.getElementsByName(a);if(b)for(var c=b.length;c--;)if(b[c].checked)return b[c].value;return void 0},htmlEncode:function(a){return document.createElement("a").appendChild(document.createTextNode(a)).parentNode.innerHTML},getClipRect:function(a){return"rect("+a.y+"px,"+(a.x+a.width)+"px,"+(a.y+a.height)+"px,"+a.x+"px)"},renderTextRect:function(a,b,c,d,e,f){Ab.renderTextBounds(a,b,c,d,e.x,e.y,e.width,e.height,f)},renderTextBounds:function(a,b,c,d,e,f,g,h,i,j){if(c&&d){var k=a.style;a.textContent=d,k.font=b?b.font:DEF_FONT,k.color=c.css(),k.whiteSpace="nowrap",k.textDecoration=b.underline?"underline":"none";var l=a.getBoundingClientRect2();switch(i){case Gb.CENTER:e+=(g-l.width)/2;break;case Gb.RIGHT:e=e+g-l.width}switch(k.left=e+"px",j){case Hb.TOP:break;case Hb.BOTTOM:f=f+h-l.height;break;case Hb.MIDDLE:default:f+=(h-l.height)/2}k.top=f+"px"}},isAncestorOf:function(a,b){for(var c=b.parentElement;c;){if(c==a)return!0;c=c.parentElement}return!1}})),Bb=(Ba("Progress",Fa,{init:function(){this._super(),this._view=new Bb,this._runner=null,this._next=0,this._completed=!1,this._timer=void 0},min:0,max:100,step:1,execute:function(a){a&&(this._runner=a,this._next=this._min,a.container instanceof HTMLElement&&(this._view.setProperties(this._min,this._max,this._min),this._view.show(a.container)),this.$_runNext())},$_runNext:function(){if(this._next<this._max){var a=this._runner.run(this._next);if(this._next+=this._step,this._view.setPosition(this._next,a),c("P R O G R E S S : "+this._min+" > "+this._next+" > "+this._max),
this._next<this._max)return void setTimeout(function(){this.$_runNext()}.bind(this),0)}!this.$_completed&&this.$_complete()},$_complete:function(){try{this._runner.complete&&this._runner.complete()}finally{c("P R O G R E S S : completed : "+ +this._min+" > "+this._next+" > "+this._max),this.$_completed=!0,this._view.close()}}}),Ba("ProgressView",null,{init:function(){this._super(),this._container=null,this._dom=new Ab(this.$_createElement()),this._min=0,this._max=0,this._pos=0},modal:!1,message:"Load data...",position:function(){return this._pos},setPosition:function(a,b){a=Math.max(this._min,Math.min(this._max,a)),a!=this._pos&&(this._pos=a,this._message=b,this.$_refreshView())},setProperties:function(a,b,c,d,e){this._min=a,this._max=Math.max(a,b),this._max==this._min&&(this._max=this._min+1),this._pos=Math.max(this._min,Math.min(this._max,c)),this._message=d,e&&this.$_refreshView()},show:function(a,b){this._container=a,b&&this.$_setMessage(b),a.appendChild(this._dom.element());var c=a.getBoundingClientRect(),d=this._dom.size();this._dom.move((c.width-d.width)/2,(c.height-d.height)/3)},close:function(){this._dom.detach()},$_createElement:function(){var a=Ab.createElement("div",{position:"absolute",zIndex:3001,minWidth:"250px",padding:"8px 10px",backgroundColor:"rgba(0, 111, 245, 0.05)",border:"1px solid #ddd"});return a.appendChild(a.$_bar=this.$_createBar()),a.appendChild(a.$_msg=this.$_createMsg()),a},$_createBar:function(){var a=Ab.createElement("div",{width:"100%",height:"13px",marginBottom:"4px",background:"linear-gradient(#aaa, #ccc)",border:"1px solid #333"}),b=Ab.createElement("div",{height:"100%",width:"0px",background:"linear-gradient(#fff, #ddd)",borderRight:"1px solid #333"});return a.appendChild(b),a.$_led=b,a},$_createMsg:function(){var a=Ab.createElement("div",{width:"100%",textAlign:"center"}),b=Ab.createElement("span",{fontSize:"11px",fontFamily:"Tahoma",fontWeight:"bold"});return a.appendChild(a.$_span=b),a},$_refreshView:function(){var a=this._dom.element(),b=a.$_bar,c=b.$_led,d=a.$_msg.$_span;d.innerHTML=Ab.htmlEncode(this._message);var e=Ab.getSize(b);c.style.width=Math.min(e.width-1,da(e.width*(this._pos-this._min)/(this._max-this._min)))+"px"},$_setMessage:function(a){var b=this._dom.element().$_msg.$_span;b.innerHTML=Ab.htmlEncode(this._message)}})),Cb=(Ba("ProgressManager",null,{init:function(a){this._super(),this._container=a,this._title=null,this._view=null},show:function(a,b,c){this._view||(this._view=new Bb),this._view.show(a||this._container,b||"Load data...")},close:function(){this._view&&this._view.close()},setProperties:function(a,b,c,d){d||(d=this._title||"Load data... ",b>a&&(d+=parseInt(100*(c-a)/(b-a))+"% ("+c+" / "+b+")")),this._view&&this._view.setProperties(a,b,c,d,!0)}}),Ba("PopupMenuItem",null,{init:function(a,b){this._super(),this._parent=a,this._children=null,b&&this.assign(b)},visible:!0,enabled:!0,label:null,type:null,group:null,checked:!1,tag:qa,children:null,callback:null,parent:function(){return this._parent},setChildren:function(a){},isSeparator:function(){return"-"==this._label||this._type==MenuItemType.SEPARATOR},getData:function(){return{label:this._label,checked:this._checked,enabled:this._enabled,tag:this._tag}},click:function(){"check"==this._type&&(this._checked=!this._checked),this._parent._itemClicked(this)}})),Db=Ba("PopupMenu",Fa,{init:function(a,b,c){this._super(),this._name=a,this._parent=b,this._items=this._load(c)},visible:!0,enabled:!0,name:null,label:null,manager:function(){for(var a=this._parent;a;){if(a.popupMenuManager&&a.popupMenuManager()instanceof Fb)return a.popupMenuManager();if(a instanceof Fb)return a;a=a._parent}return null},items:function(){return this._items},count:function(){return this._items?this._items.length:0},isDescendant:function(a){for(var b=a;b;){if(b==this)return!0;b=b._parent}return!1},_load:function(a){var b=[];if(a){a=o(a);for(var c=0;c<a.length;c++){var d=a[c];if(n(d.children)&&d.children.length>0){var e=new Db(null,this,d.children);e._parent=this,e._label=d.label,e._callback=d.callback,b.push(e)}else{var f=new Cb(this,d);b.push(f)}}}return b},_itemClicked:function(a){if(a.parent()==this&&"radio"==a.type()){var b=a.group();if(b){for(var c=0;c<this._items.length;c++){var d=this._items[c];d instanceof Cb&&"radio"==d.type()&&d.group()==b&&d.setChecked(!1)}a.setChecked(!0)}}var e=this.manager()._popupIndex;"function"==typeof a.callback()?a.callback()(a.proxy(),e.proxy()):this._parent instanceof Fb?this._parent._doMenuItemClick(a,e):this._parent.onMenuItemClick?this._parent.onMenuItemClick(a,e):this._parent._itemClicked(a)}});Db.CLICKED="onPopupMenuClicked";var Eb=Ba("PopupMenuView",Fa,{init:function(a){this._super(),this._container=a,this._useCssStyle=a._gridView instanceof GridView&&(a._gridView._editorOptions._useCssStyle||a._gridView._editorOptions._useCssStylePopupMenu),this._containerElement=null,this._parentView=null,this._dom=new Ab(this._element=this._createElement(this._useCssStyle)),this._element.addEventListener("contextmenu",function(a){a.preventDefault()}),this._currDiv=null,this._menu=null,this._childView=null,this._showing=!1,this._timer=void 0,this._viewGridInside=!1},minWidth:0,maxWidth:0,dropDownCount:8,manager:function(){return this._menu.manager()},show:function(a,b,c,d,e,f,g){if(!this._showing){this._showing=!0;try{this._containerElement=a,this._parentView=b,this._menu=c;for(var h=c._parent;h._parent&&!(h instanceof GridView);)h=h._parent;if(h&&h instanceof GridView?this._viewGridInside=h._editorOptions._viewGridInside:h&&h instanceof Fb&&(this._viewGridInside=h._container._gridView._editorOptions._viewGridInside),c._parent instanceof GridBase||c._parent instanceof Fb){var i=this.manager()._container._gridView,j=CellIndex.temp(i,-1,null).clone();i._layoutManager.mouseToIndex(i._container._currentX,i._container._currentY,j),this.manager()._popupIndex=j}this.$_show(a,this._menu,d,e,f,g)}finally{this._showing=!1}}},$_show:function(a,b,c,d,e,f){var g=this._element,h=this._viewGridInside?a:N.documentElement;if(g){this._menu=b,this._dom.clearChildren(),this.$_buildItems(b),this._disableSelection(g),h.appendChild(g);var i=ra(),j=oa||pa?Ab.getBounds(N.body):Ab.getBounds(N.documentElement),k=Ab.getBounds(a),l=i.width,m=i.height,n=this._dom.getBounds(),o=window.pageXOffset||N.documentElement.scrollLeft,p=window.pageYOffset||N.documentElement.scrollTop;document.documentElement.scrollWidth>document.documentElement.clientWidth&&(m-=18),document.documentElement.scrollHeight>document.documentElement.clientHeight&&(l-=18),this._viewGridInside?d+k.top+n.height>k.bottom&&(d=this._parentView?k.bottom-n.height-k.top-3:d-n.height-f):(this._parentView||(c+=k.left-j.left,d+=k.top-j.top),d+n.height>=m+p-3&&(d=d-n.height-3,0>d&&(d=Math.max(0,m-n.height-3))),c+n.width>=l+o-3?c=Math.max(0,l-n.width-3):void 0!==e&&n.width<e&&(c+=e-n.width)),this._dom.move(Math.max(0,c),Math.max(0,d)),M.onmousedown=function(a){for(var b=a.target;b;){if(b==this._element||b.menuItem)return;b=b.parentNode}this.manager().close()}.bind(this)}},hide:function(a){if(a&&this._parentView)this._parentView.hide(!0);else{this.$_hideChildView();var b=this._element;b&&b.parentNode&&(this._viewGridInside?this._containerElement.removeChild(b):N.documentElement.removeChild(b))}},_createElement:function(a){var b=Ab.createElement("div",{position:"absolute","float":"none",minWidth:"60px",overflow:"hidden",zIndex:3e3});return!a&&Ab.setStyles(b,{background:"rgb(233, 233, 233)",border:"1px solid rgb(200, 200, 200)",boxShadow:"rgba(0, 0, 0, 0.8) 1px 2px 5px",fontFamily:"Tahoma",fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",fontSize:"10pt",padding:"4px",margin:"0px"}),a&&(b.className="rg-popup-menu"),b.onkeydown=function(a){27==a.keyCode&&this.hide()}.bind(this),b},_showChild:function(a){if(this==this.manager()._showingView&&!(this._childView&&this._childView._menu===a.menuItem||this._currDiv!==a)){this.$_hideChildView();var b=a.menuItem,c=this._element.getBoundingClientRect(),d=this._element.offsetLeft+c.width-4,e=this._element.offsetTop+a.offsetTop;this._childView=Eb._borrowView(this._container),this._childView.show(this._containerElement,this,b,d,e)}},$_hideChildView:function(){if(this.manager()._showingView=null,this._childView){this._childView.$_hideChildView();var a=this._viewGridInside?this._containerElement:N.documentElement;this._childView._element&&a.removeChild(this._childView._element),Eb._returnView(this._childView),this._childView=null}},_disableSelection:function(a){a.style.WebkitUserSelect="none",a.style.MozUserSelect="none",a.style.KhtmlUserSelect="none",a.style.MsUserSelect="none","undefined"!=typeof a.onselectstart?a.onselectstart=function(){return!1}:"undefined"!=typeof a.style.MozUserSelect?a.style.MozUserSelect="none":a.onmousedown=function(){return!1}},$_buildItems:function(a){for(var b=a.items(),c=0,d=[],e=0,f=b.length;f>e;e++){var g=b[e];if(g.isVisible()){var h=N.createElement("div");if(h.menuView=this,h.menuItem=g,Ab.setStyles(h,{position:"relative","float":"none",width:"100%"}),!this._useCssStyle&&Ab.setStyles(h,{paddingTop:"2px",paddingBottom:"2px",cursor:"default"}),g instanceof Cb&&g.isSeparator()){this._useCssStyle&&(h.className="rg-popup-separator");var i=N.createElement("hr");!this._useCssStyle&&Ab.setStyles(i,{height:"1px",border:"0px",margin:"2px",color:"#777",backgroundColor:"#777"}),this._useCssStyle&&(i.className="rg-popup-separator-hr"),h.appendChild(i),h.onmouseover=function(a){h.menuView&&h.menuView._childView&&h.menuView.$_hideChildView()}}else{d.length=0,!this._useCssStyle&&(h.style.color=g.isEnabled()?"#333":"#aaa"),this._useCssStyle&&d.push("rg-popup-item"),this._useCssStyle&&g.group&&g.group()&&d.push("rg-popup-"+g.group()),this._useCssStyle&&!g.isEnabled()&&d.push("rg-popup-item-disable"),this._useCssStyle&&(h.className=d.join(" ")),h.style.whiteSpace="pre",h.onclick=function(a){var b=a.currentTarget,c=b.menuItem;c instanceof Db?c.isEnabled()&&this._showChild(b):c?(this.hide(!0),c.isEnabled()&&c.click()):this.$_hideChildView()}.bind(this),h.onmouseover=function(a){var b=this._currDiv=a.currentTarget,c=b.menuItem;c.isEnabled()&&!this._useCssStyle&&(b.style.background="rgba(0, 255, 0, 0.2)"),c instanceof Db?(this.manager()._showingView=b.menuView,this.timer=setTimeout(function(){b.menuView._showChild(b)},200)):b.menuView&&b.menuView._childView&&b.menuView.$_hideChildView()}.bind(this),h.onmouseout=function(a){var b=a.currentTarget;!this._useCssStyle&&(b.style.background="")};var j=N.createElement("span");d.length=0,j.style.display="inline-block",j.style.minWidth="20px",j.style.minHeight="7px",j.style.verticalAlign="middle",j.innerHTML="",this._useCssStyle&&g.type&&("radio"===g.type()||"check"===g.type())&&d.push(g.group()?"rg-popup-radio":"rg-popup-check"),g.isChecked&&g.isChecked()&&(!this._useCssStyle&&Ab.setStyles(j,{backgroundImage:"url("+$$_rootContext+$$_assets+(g.group()?"menu_radio.png":"menu_check.png")+")",backgroundRepeat:"no-repeat",backgroundPosition:"center center"}),this._useCssStyle&&d.push(g.group()?"rg-popup-radio-checked":"rg-popup-check-checked")),this._useCssStyle&&(j.className=d.join(" ")),j.tabIndex=-1,this._disableSelection(j),h.appendChild(j);var k=N.createElement("span");if(k.id="$popupMenu_item_"+Eb.$_menuId++,k.style.paddingRight="24px",k.innerHTML=g.label(),k.tabIndex=-1,this._disableSelection(k),h.appendChild(k),g instanceof Db){var l=N.createElement("span");this._useCssStyle&&(l.className="rg-popup-expander"),h.appendChild(l),l.style.position="absolute",l.style.right="0px",l.style.width="24px",l.style.height="17px",j.style.verticalAlign="middle",l.innerHTML=" ",!this._useCssStyle&&Ab.setStyles(l,{backgroundImage:"url("+$$_rootContext+$$_assets+"menu_expander.png)",backgroundRepeat:"no-repeat",backgroundPosition:"center center"}),l.tabIndex=-1,this._disableSelection(l),h.appendChild(l)}}this._disableSelection(h),this._element.appendChild(h),c++}}}},{$_menuId:0,$_views:[],_borrowView:function(a){var b=Eb.$_views.pop();return b||(b=new Eb(a)),b},_returnView:function(a){if(a._children)for(var b=0;b<a._children.length;b++)Eb.returnView(a[b]);Eb.$_views.push(a)}}),Fb=Ba("PopupMenuManager",Fa,{init:function(a){this._super(),this._container=a,this._menus=[],this._mainView=null,this._showingView=null,this._popupIndex=null},indexOf:function(a){for(var b=this._menus.length;b--;)if(j(this._menus[b].name(),a))return b;return-1},getMenu:function(a){for(var b=this._menus.length;b--;)if(j(this._menus[b].name(),a))return this._menus[b];return null},addMenu:function(a,b,c){if(k(a))throw"Menu name is empty.";var d=-1;if(!c&&(d=this.indexOf(a),d>=0))return this._menus[d];var e=new Db(a,this,b);return c?this._menus[d]=e:this._menus.push(e),e},removeMenu:function(a){var b=this.indexOf(a);b>=0&&this._menus.splice(b,1)},clearMenus:function(){this._menus.length=0},show:function(a,b){if(!this._mainView&&("string"==typeof a?a=this.getMenu(a):a instanceof Db||(a=new Db(null,this,a)),a)){var c=b.boundsByContainer(),d=c.top();if(b instanceof MergedDataCellElement){var e=b.grid(),f=e.layoutManager(),g=b.index().I()+b.innerIndex()-e.topItem()+e.fixedOptions().rowCount();if(g>=0){var h=f.itemBounds(g);d=f.bodyBounds().top()+h.bottom()}else d=c.bottom()}else d=c.bottom();this._mainView=Eb._borrowView(this._container),this._mainView.show(this._container._container,null,a,c.x,d,c.width,c.height)}},showContext:function(a,b,c){a&&!this._mainView&&(this._mainView=Eb._borrowView(this._container),this._mainView.show(this._container._container,null,a,b,c,0,0))},close:function(){this._mainView&&(this._mainView.hide(),Eb._returnView(this._mainView),this._mainView=null)},_doMenuItemClick:function(a,b){this.fireEvent(Fb.MENU_ITEM_CLICKED,a,b)}});Fb.MENU_ITEM_CLICKED="onPopupMenuManagerMenuItemClicked";var Gb=I({LEFT:"left",CENTER:"center",RIGHT:"right"}),Hb=I({TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"}),Ib=(I({NONE:"none",NORMAL:"normal"}),I({CIRCLE:"circle",TRIANGLE:"triangle",SQUARE:"square",DIAMOND:"diamond"}),I({VISIBLE:"visible",HIDDEN:"hidden",COLLAPSED:"collapsed"}),I({DEFAULT:"default",FAR:"far",MID:"mid",NEAR:"near"}),I({HORIZONTAL:"horizontal",VERTICAL:"vertical"}),I({DEFAULT:"default",LEFT:"left",CENTER:"center",RIGHT:"right",FILL:"fill"}),I({DEFAULT:"default",TOP:"top",MIDDLE:"middle",BOTTOM:"bottom",FILL:"fill"}),I({NONE:"none",JUSTIFY:"justify"}),function(a,b,c,d){"undefined"==typeof a||null===a?this.x=this.y=this.width=this.height=0:(this.x=a,this.y=b,this.width=c,this.height=d)});Ib.prototype={constructor:Ib,clone:function(){return new Ib(this.x,this.y,this.width,this.height)},getInner:function(){return new Ib(0,0,this.width,this.height)},equals:function(a){return a===this||a&&this.x===a.x&&this.y===a.y&&this.width===a.width&&this.height===a.height},toString:function(){return"{x: "+this.x+", y: "+this.y+", width: "+this.width+", height: "+this.height+"}"},left:function(){return this.x},setLeft:function(a){var b=a-this.x;this.x+=b,this.width-=b},leftBy:function(a){return this.x+=a,this.width-=a,this},right:function(){return this.x+this.width},setRight:function(a){var b=a-(this.x+this.width);this.width+=b},rightBy:function(a){return this.width+=a,this},top:function(){return this.y},setTop:function(a){var b=a-this.y;return this.y+=b,this.height-=b,this},topBy:function(a){return this.y+=a,this.height-=a,this},bottom:function(){return this.y+this.height},setBottom:function(a){var b=a-(this.y+this.height);return this.height+=b,this},bottomBy:function(a){return this.height+=a,this},shrink:function(a,b){return this.width-=a,this.height-=b,this},expand:function(a,b){return this.width+=a,this.height+=b,this},contains:function(a,b){return a>=this.x&&a<=this.x+this.width&&b>=this.y&&b<=this.y+this.height},isEmpty:function(){return 0===this.width||0===this.height},setEmpty:function(){return this.width=this.height=0,this},set:function(a,b,c,d){return this.x=a,this.y=b,this.width=c,this.height=d,this},copy:function(a){return this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height,this},copyHorz:function(a){return this.x=a.x,this.width=a.width,this},copyVert:function(a){return this.y=a.y,this.height=a.height,this},inflate:function(a,b,c,d){return b=arguments.length>1?b:0,c=arguments.length>2?c:a,d=arguments.length>3?d:b,a&&this.setLeft(this.x-a),b&&this.setTop(this.y-b),c&&this.setRight(this.right()+c),d&&this.setBottom(this.bottom()+d),this},offset:function(a,b){return this.x+=a,this.y+=b,this},round:function(){var a=this.clone();return a.x>>>=0,a.y>>>=0,a.width>>>=0,a.height>>>=0,a},union:function(a){var b=this.clone();return b.setLeft(Math.min(this.x,a.x)),b.setRight(Math.max(this.right(),a.right())),b.setTop(Math.min(this.y,a.y)),b.setBottom(Math.max(this.bottom(),a.bottom())),b},normalize:function(){return this.width<0&&(this.x-=this.width,this.width*=-1),this.height<0&&(this.y-=this.height,this.height*=-1),this}};var Jb=function(a,b){0==arguments.length?this.width=this.height=0:(this.width=a,this.height=b)};Jb.EMPTY=new Jb,Jb.empty=function(){return new Jb},Jb.create=function(a,b){return new Jb(a,b)},Jb.prototype={constructor:Jb,clone:function(){return new Jb(this.width,this.height)},equals:function(a){return a===this||a&&this.width===a.width&&this.height===a.height},toString:function(){return"{width: "+this.width+", height: "+this.height+"}"},isEmpty:function(){return 0===this.width||0===this.height},setEmpty:function(){return this.width=this.height=0,this},set:function(a,b){return this.width=a,this.height=b,this},round:function(){var a=this.clone();return a.width>>>=0,a.height>>>=0,a}};var Kb=function(a,b){0==arguments.length?this.x=this.y=0:(this.x=a,this.y=b)};Kb.EMPTY=new Kb,Kb.empty=function(){return new Kb},Kb.create=function(a,b){return new Kb(a,b)},Kb.prototype={constructor:Jb,clone:function(){return new Kb(this.x,this.y)},equals:function(a){return a===this||a&&this.width===a.width&&this.height===a.height},toString:function(){return"{x: "+this.x+", y: "+this.y+"}"},isEmpty:function(){return 0===this.x||0===this.y},setEmpty:function(){return this.x=this.y=0,this},set:function(a,b){return this.x=a,this.y=b,this},round:function(){var a=this.clone();return a.x>>>=0,a.y>>>=0,a}};var Lb=function(){this.left=new Ib,this.right=new Ib,this.top=new Ib,this.bottom=new Ib};Lb.prototype={constructor:Lb,clear:function(){this.left.setEmpty(),this.right.setEmpty(),this.top.setEmpty(),this.bottom.setEmpty()},setLeft:function(a,b,c,d){this.left.set(a,b,c,d)},setRight:function(a,b,c,d){this.right.set(a,b,c,d)},setTop:function(a,b,c,d){this.top.set(a,b,c,d)},setBottom:function(a,b,c,d){this.bottom.set(a,b,c,d)}};var Mb=function(a,b){this._size=a,this._fixed=b};Mb.prototype={constructor:Mb,clone:function(){return new Mb(this._size,this._fixed)},getSize:function(a){return this._fixed?this._size:a*this._size}},Mb.Empty=new Mb(0,!1),Mb.createFrom=function(a){var b=0,c=!1;if(a){var d=String(a).trim(),e=d.length;e>0&&(e>2&&d.lastIndexOf("px")==e-2&&(c=!0,d=d.substr(0,e-3)),d&&(b=parseFloat(d)))}return new Mb(b,c)},Mb.equals=function(a,b){return a instanceof Mb&&b instanceof Mb&&a._size===b.size&&a._precentage===b._precentage};var Nb=function(a,b){this._size=a,this._fixed=b};Nb.prototype={constructor:Nb,clone:function(){return new Nb(this._size,this._fixed)},getSize:function(a,b){return this._fixed?this._size:a*this._size/(b||100)}},Nb.Empty=new Nb(0,!0),Nb.createFrom=function(a){var b=0,c=!0;if(a){var d=String(a).trim(),e=d.length;e>0&&(e>1&&d.lastIndexOf("%")==e-1&&(c=!1,d=d.substr(0,e-1).trim()),d&&(b=parseFloat(d)))}return new Nb(b,c)},Nb.equals=function(a,b){return a instanceof Nb&&b instanceof Nb&&a._size===b.size&&a._precentage===b._precentage};var Ob=function(a,b){this.width=a,this.height=b};Ob.prototype={constructor:Ob,clone:function(){return new Ob(this.width,this.height)},set:function(a,b){this.width=parseFloat(a),this.height=parseFloat(b)}},Ob.createFrom=function(a){var b=0,c=0;if(a){var d=String(a).split(",");d.length>0&&(b=c=parseFloat(d[0])),d.length>1&&(c=parseFloat(d[1]))}return new Ob(b,c)};var Pb=(I({BACK:8,TAB:9,ENTER:13,ESC:27,ESCAPE:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,F2:113,F3:114,D:68,I:73,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90}),I({DEFAULT:"default",AUTO:"auto",POINTER:"pointer",WAIT:"wait",MOVE:"move",COL_RESIZE:"col-resize",ROW_RESIZE:"row-resize",CROSSHAIR:"crosshair",HORZ_RESIZE:"ew-resize",VERT_RESIZE:"ns-resize",NESW_RESIZE:"nesw-resize",NWSE_RESIZE:"nwse-resize",NO_DROP:"no-drop",NOT_ALLOWED:"not-allowed"})),Qb=function(a,b){if(!b)return void alert("no touch");if(!a)return void alert("no container");if(!a._canvas)return void alert("no canvas");var c=a._canvas.getBoundingClientRect();return b.x=b.pageX-(c.left+window.scrollX),b.y=b.pageY-(c.top+window.scrollY),b},Rb=(Ba("TouchManager",null,{init:function(a){this._super(),this._container=a},touchStart:function(a){},touchMove:function(a){},touchEnd:function(a){},touchCancel:function(a){},_toOffset:function(a){return Qb(this._container,a)}}),2),Sb=3,Tb=Ba("VisualTool",null,{init:function(a){this._super(),this._owner=a,this._dragTracker=null,this._clickX=0,this._clickY=0,this._currX=0,this._currY=0},dragTracker:null,owner:function(){return this._owner},setDragTracker:function(a){a!==this._dragTracker&&(this._dragTracker&&this._dragTracker.deactivate(),this._dragTracker=a,this._dragTracker&&this._dragTracker.activate())},isDragging:function(){return this._dragTracker&&this._dragTracker.isDragging()},inDraggablePt:function(a,b){return a>=b-Rb&&b+Rb>=a},clickX:function(){return this._clickX},clickY:function(){return this._clickY},currX:function(){return this._currX},currY:function(){return this._currY},isEditing:function(){return!1},touchManager:function(){return null},activate:function(){this._doActivate()},deactivate:function(){this._doDeactivate()},keyDown:function(a,b,c,d){return this._doKeyDown(a,b,c,d)},keyUp:function(a,b,c,d){return this._doKeyUp(a,b,c,d)},keyPress:function(a){return this._doKeyPress(a)},click:function(a){a.offsetX&&a.offsetY?this._doClick(a.offsetX,a.offsetY):this._doClick(a.mouseX,a.mouseY)},dblclick:function(a){a.offsetX&&a.offsetY?this._doDblClick(a.offsetX,a.offsetY):this._doDblClick(a.mouseX,a.mouseY)},mouseDown:function(a){var b=this._currX=this._clickX=a.mouseX,c=this._currY=this._clickY=a.mouseY;this.isDragging()&&(this._stopDragTracker(b,c,!1),this.setDragTracker(null));var d=ha&&a.metaKey||!ha&&a.ctrlKey;this._doMouseDown(a.mouseX,a.mouseY,d,a.shiftKey,a.button,a)},mouseMove:function(a){var b,c=this._currX=a.mouseX,d=this._currY=a.mouseY,e=this.dragTracker();e?e.isDragging()?("$hasNotButtons"in Tb||(Tb.$hasNotButtons=ma||ka),Tb.$hasNotButtons||a.buttons>0?e.drag(c,d)||(b=e.getNextRequest(c,d),b&&(this._stopDragTracker(c,d,!0),this.setDragTracker(this._getDragTracker(b)),this._startDragTracker(c,d))):this._stopDragTracker(c,d,!0)):ga(c-this._clickX)>=Sb||ga(d-this._clickY)>=Sb?this._startDragTracker(c,d):this._doMouseMove(c,d):this._doMouseMove(c,d)},mouseUp:function(a){var b=this._currX=a.mouseX,c=this._currY=a.mouseY;return this.isDragging()?void this._stopDragTracker(b,c,!1):void this._doMouseUp(b,c,a)},mouseEnter:function(a){this._doMouseEnter(a.mouseX,a.mouseY)},mouseLeave:function(a){this._doMouseLeave(a.mouseX,a.mouseY)},mouseOver:function(a){this._doMouseOver(a.mouseX,a.mouseY)},mouseOutside:function(){this._doMouseOutside()},mouseWheel:function(a){return xdelta=a.wheelDeltaX?a.wheelDeltaX:0,ydelta=a.wheelDeltaY?a.wheelDeltaY:a.wheelDelta,ga(xdelta)>ga(ydelta)?ydelta=0:xdelta=0,this._doMouseWheel(a.mouseX,a.mouseY,xdelta,ydelta)},touchStart:function(a){this.touchManager()?this.touchManager().touchStart(a):this._doTouchStart(a)},touchMove:function(a){this.touchManager()?this.touchManager().touchMove(a):this._doTouchMove(a)},touchEnd:function(a){this.touchManager()?this.touchManager().touchEnd(a):this._doTouchEnd(a)},touchCancel:function(a){this.touchManager()?this.touchManager().touchCancel(a):this._doTouchCancel(a)},findElementAt:function(a,b,c){return this._owner.findChildAt(a,b,c)},setFocus:function(){return this._doSetFocus()},_doActivate:function(){X("tool: activated")},_doDeactivate:function(){X("tool: deactivated")},_doKeyDown:function(a,b,c,d){return X("tool: keyDown("+a+")"),!1},_doKeyUp:function(a,b,c,d){return X("tool: keyUp("+a+")"),!1},_doKeyPress:function(a){X("tool: keyPress("+a+")")},_doClick:function(a,b){X("tool: click("+a+","+b+")")},_doDblClick:function(a,b){X("tool: dblClick("+a+","+b+")")},_doMouseDown:function(a,b,c,d,e,f){X("tool: mouseDown("+a+","+b+")")},_doMouseMove:function(a,b){X("tool: mouseMove("+a+","+b+")")},_doMouseUp:function(a,b){X("tool: mouseUp("+a+","+b+")")},_doMouseEnter:function(a,b){X("tool: mouseEnter("+a+","+b+")")},_doMouseLeave:function(a,b){X("tool: mouseLeave("+a+","+b+")")},_doMouseOver:function(a,b){X("tool: mouseOver("+a+","+b+")")},_doMouseOutside:function(){},_doMouseWheel:function(a,b,c,d){return X("tool: mouseWheel("+c+","+d+")"),!1},_doTouchStart:function(a){X("tool: touchStart")},_doTouchMove:function(a){X("tool: touchMove")},_doTouchEnd:function(a){X("tool: touchEnd")},_doTouchCancel:function(a){X("tool: touchCancel")},_startDragTracker:function(a,b){this._dragTracker&&(this._dragTracker.start(a,b)?this._doDragTrackerStarted(this._dragTracker):this._dragTracker=null)},_stopDragTracker:function(a,b,c){if(this.isDragging()){var d=this._dragTracker;c?d.cancel():d.drop(a,b),this.setDragTracker(null),this._doDragTrackerFinished(d,c),this._owner&&this._owner.invalidate&&this._owner.invalidate()}},_doDragTrackerStarted:function(a){X("dragTracker started: "+a.name())},_doDragTrackerFinished:function(a,b){X("dragTracker stopped: "+a.name()+", "+(b?"canceled":"completed"))},_doSetFocus:function(){}}),Ub=".",Vb=",",Wb=Ba("DecimalFormatter",null,{init:function(a){this._super(),this._minDigits=0,this._maxDigits=0,this._minInts=0,this._maxInts=0,this._optDecimal=!1,this._groupPos=0,this._seperator=null,this._groupSep=null,this._reg=null,this._regDecimal=null,this._replacement="$&,",this._parse(a)},format:function(a){var b=Number(a);if(isNaN(b))return"";var c=this._minDigits;if(this._optDecimal){var d=L(b);c=Math.min(Math.max(d,this._minDigits),this._maxDigits)}b=Number(b.toPrecision(15));var e=b.toFixed(c);return this._seperator&&(e=e.replace(Ub,this._seperator)),this._reg?c?e.replace(this._regDecimal,this._replacement):e.replace(this._reg,this._replacement):e},_parse:function(a){if(a&&(a=a.trim()),a){var b=Ub,c=Vb;if(a.indexOf(";")>-1){var d=a.split(";");a=d[0],d.length>1&&d[1]&&(b=d[1]),d.length>2&&d[2]&&(c=d[2])}this._seperator=b==Ub?null:b,this._groupSep=c==Vb?null:c;var e,f,g=a.length,h=a.indexOf(Ub);if(this._optDecimal=a.indexOf("#",h)>0,h>=0){for(e=h+1;g>e&&"0"==a.charAt(e);e++)this._minDigits++,this._maxDigits++;for(;g>e&&"#"==a.charAt(e);e++)this._maxDigits++;a=a.substr(0,h)}if(a&&(g=a.length,a.charAt(g-1)==Vb&&(this._groupPos=3,a=a.substr(0,g-1))),a){g=a.length;var i=!0;for(e=g-1;e>=0;e--)if(f=a.charAt(e),"0"==f&&i)this._minInts++,this._maxInts++;else if(0==this._groupPos&&f==Vb)this._groupPos=g-e-1;else{if("#"!=f)break;i=!1}}this._groupPos>0&&(this._replacement="$&"+c,this._reg=new RegExp("\\d(?=(\\d{"+this._groupPos+"})+($|\\"+b+"))","g"),this._regDecimal=new RegExp("\\d(?=(\\d{"+this._groupPos+"})+\\"+b+")","g"))}}},{PerformTest:function(a,b){for(var c=new Wb(a),e=d(),f=0;b>f;f++)c.format(1234567.1234);e=d()-e,X("##### DecimalFormat PerformTest Result : "+e+" msces.")},Test:function(a,b){var c=new Wb(a),d=c.format(b);X("##### DecimalFormat Test Result : "+d)}}),Xb=(Ba("BooleanFormatter",null,{init:function(a){this._super(),this._format=a,this._nullText=null,this._trueText=null,this._falseText=null,this._parse()},format:null,setFormat:function(a){a!=this._format&&(this._format=a,this._parse())},formatValue:function(a){return a===qa?this._nullText:a?this._trueText:this._falseText},_parse:function(){if(this._falseText=this._trueText=null,this._format){var a=this._format.split(/[;\:]/);this._falseText=a[0],a.length>0&&(this._trueText=a[1]),a.length>1&&(this._nullText=a[2])}}}),function(a){var b=a,c=null,d=!0,e=null,f=null;this.format=function(){return b},this.setFormat=function(a){a!=b&&(b=a,g(a))},this.toBool=function(a){if(c&&a){var b=d?String(a):String(a).toLowerCase();if(b in c)return c[b]}return Boolean(a)},this.toBoolEx=function(a){var b=d?String(a):String(a).toLowerCase();return c&&b in c?c[b]:b?Boolean(b):void 0},this.toBoolStrict=function(a){if(c){var b=d?String(a):String(a).toLowerCase();if(b in c)return c[b]}return void 0},this.toText=function(a){return a?e:f};var g=function(a){if(a){var b,g,h,i,j=a.split(/[;\:]/),k=!0;for(b=j[0],h=b?b.split(","):null,j.length>1&&(b=j[1],i=b?b.split(","):null),j.length>2&&(b=ba(j[2]),"0"==b&&(k=!1)),c={},d=k,g=0;g<h.length;g++)b=h[g],c[k?b:b.toLowerCase()]=!1;for(g=0;g<i.length;g++)b=i[g],c[k?b:b.toLowerCase()]=!0;e=i&&i.length>0?i[0]:"true",f=h&&h.length>0?h[0]:"false"}else c={},c["true"]=!0,c["false"]=!1,e="true",f="false"};g(b)});Xb.Default=new Xb("false,f,0:true,t,1:0");var Yb="./-: ",Zb=Ba("DateTimeParser",null,{init:function(a){this._super(),this._baseYear=0,this._patterns=[],this.setFormat(a)},format:null,baseYear:2e3,amText:"AM",pmText:"PM",setFormat:function(a){if(a!=this._format){if(!a)throw"Invalid empty date format";this.$_parseFormat(a),this._format=a}},setBaseYear:function(a){a!=this._baseYear&&(this._baseYear=a)},setAmText:function(a){a!=this._amText&&(this._amText=a)},setPmText:function(a){a!=this._pmText&&(this._pmText=a)},parse:function(a){try{var b,c=0,d=1,e=1,f=0,g=0,h=0,i=0,j=0,k=0,l=this._patterns.length,m=0,n=a.length;for(b=0;l>b&&n>m;b++){var o=this._patterns[b],p=o.c,q=o.len;switch(p){case"y":c=da(a.substr(m,q));break;case"M":d=da(a.substr(m,q));break;case"d":e=da(a.substr(m,q));break;case"a":if(this._amText&&a.indexOf(this._amText,m)==m)j=12,q=this._amText.length;else{if(!this._pmText||a.indexOf(this._pmText,m)!=m)return null;k=12,q=this._pmText.length}break;case"H":f=da(a.substr(m,q));break;case"h":f=da(a.substr(m,q));break;case"m":g=da(a.substr(m,q));break;case"s":h=da(a.substr(m,q));break;case"S":i=da(a.substr(m,q));break;case".":case"/":case"-":case":":case" ":if(Yb.indexOf(a.charAt(m))<0)return null;break;default:return null}m+=q}}catch(r){return null}return 100>c&&(c+=this._baseYear),j>0?12==f&&(f=0):k>0&&12>f&&(f+=12),new Date(c,d-1,e,f,g,h,i)},$_parseFormat:function(a){var b,c,d,e=a,f=e.length,g=0;for(this._patterns=[];f>g;)if(b=g,c=e.charAt(g),v(c)){for(g++;f>g&&v(e.charAt(g));)g++;this._patterns.push({c:" ",p:b,len:g-b})}else{switch(d=0,c){case"y":d=this.$_getPattern(e,g,c),4!=d&&2!=d&&this.$_throwInvalidFormat(e);break;case"M":case"d":case"H":case"h":case"m":case"s":d=this.$_getPattern(e,g,c),2!=d&&this.$_throwInvalidFormat(e);break;case"S":d=this.$_getPattern(e,g,c),3!=d&&this.$_throwInvalidFormat(e);break;case"a":case".":case"/":case"-":case":":d=this.$_getPattern(e,g,c),1!=d&&this.$_throwInvalidFormat(e);break;default:this.$_throwInvalidFormat(e)}d>0&&(this._patterns.push({c:c,p:g,len:d}),g+=d)}},$_throwInvalidFormat:function(a){throw"Invalid date format: "+a},$_throwInvalidValue:function(a){throw"Invalid date text: "+a},$_getPattern:function(a,b,c){for(var d=1;++b<a.length&&a.charAt(b)==c;)d++;return d}}),$b=["yy","yyyy","M","MM","d","dd","a","H","HH","h","hh","m","mm","s","ss","S","SS","SSS"],_b=[".","/","-",":"],ac=("0".charCodeAt(0),"9".charCodeAt(0),"Z".charCodeAt(0)),bc="z".charCodeAt(0),cc="A".charCodeAt(0),dc="a".charCodeAt(0),ec=("Y".charCodeAt(0),"y".charCodeAt(0)),fc="M".charCodeAt(0),gc="m".charCodeAt(0),hc=("D".charCodeAt(0),"d".charCodeAt(0)),ic="H".charCodeAt(0),jc="h".charCodeAt(0),kc="S".charCodeAt(0),lc="s".charCodeAt(0),mc=function(a){var b=null,c=null,d=null,e=null,f=!1,g=null,h=function(a){var b=[];if(a)for(var c,d,e,f=a.trim(),g=f.length,h=0;g>h;){if(c=f.charAt(h),_b.indexOf(c)>=0)b.push(c),h++;else{for(d=h++;g>h&&f.charAt(h)==c;)h++;if(c=f.substring(d,h),$b.indexOf(c)<0&&(e=c.charCodeAt(0),e>=cc&&ac>=e||e>=dc&&bc>=e))throw new Error("Invalid datetime write format: "+a);b.push(c);
}if(g>h&&v(c=f.charAt(h)))for(b.push(c);g>h&&v(f.charAt(h));)h++}return b},i=function(a){if(c="AM",d="PM",a){var g=a.split(";");if(b=g[0]||mc.$_DefaultFormat,e=h(b),f=e.indexOf("a")>=0||e.indexOf("A")>=0,g.length>1&&g[1]){var i=g[1].split(",");i.length>0&&i[0]&&(c=i[0]),i.length>1&&i[1]&&(d=i[1])}}},j=function(a){return 10>a?"0"+a:String(a)};this.format=function(){return b},this.formatString=function(){return g},this.setFormatString=function(a){a=a||mc.$_DefaultFormat,a!=g&&(e=[],i(a),g=a)},this.getText=function(a){if(!e)return"";var b=a;b instanceof Date||(b=new Date(a));for(var g,h="",i=0,k=e.length;k>i;i++){var l=e[i],m=l.length;switch(l.charCodeAt(0)){case ec:h+=m>2?b.getFullYear():j(b.getFullYear()%100);break;case fc:h+=m>1?j(b.getMonth()+1):b.getMonth()+1;break;case hc:h+=m>1?j(b.getDate()):b.getDate();break;case ic:h+=m>1?j(b.getHours()):b.getHours();break;case jc:f?(g=b.getHours(),0==g?g=12:g>12&&(g-=12),h+=m>1?j(g):g):h+=m>1?j(b.getHours()):b.getHours();break;case gc:h+=m>1?j(b.getMinutes()):b.getMinutes();break;case lc:h+=m>1?j(b.getSeconds()):b.getSeconds();break;case dc:case cc:h+=b.getHours()<12?c:d;break;case kc:h+=b.getMilliseconds().toString().substr(0,m);break;default:h+=l}}return h},this.setFormatString(a||mc.$_DefaultFormat)};mc.$_DefaultFormat="yyyy/MM/dd",mc.Default=new mc(mc.$_DefaultFormat);var nc=["yy","yyyy","M","MM","d","dd","a","A","H","HH","h","hh","m","mm","s","ss"],oc=[".","/","-",":"],pc="0".charCodeAt(0),qc="9".charCodeAt(0),rc=6048e5,sc=new Date,tc=function(a){var b=null,c=null,d=null,e=null,f=2e3,g=!1,h=function(a){var b,c=[];if(b=w(a)){for(var d,e,f=b.length,g=0;f>g;){if(d=b.charAt(g),oc.indexOf(d)>=0)c.push(d),g++;else{for(e=g++;f>g&&b.charAt(g)==d;)g++;if(d=b.substring(e,g),nc.indexOf(d)<0)throw new Error("Invalid datetime read format: "+a);c.push("A"==d?"a":d)}if(f>g&&v(d=b.charAt(g)))for(c.push(" ");f>g&&v(b.charAt(g));)g++}var h=[];for(f=c.length,e=0,g=0;f>g;g++)d=c[g],"a"==d||nc.indexOf(d)<0?(e>1&&h.push("E"),h.push(d),e=0):(1==e&&h.splice(h.length-2,0,"L"),h.push(d),e++);c=h}return c},i=function(a,b,c){var d,e=[],f=["am","pm","AM","PM","Am","Pm","aM","pM"];if(b&&f.push(b),c&&f.push(c),d=w(a))for(var g,h,i=d.length,j=0;i>j;){if(g=d.charAt(j),Yb.indexOf(g)>=0)e.push(g),j++;else if(g.charCodeAt(0)>=pc&&g.charCodeAt(0)<=qc){for(h=j++;i>j&&d.charCodeAt(j)>=pc&&d.charCodeAt(j)<=qc;)j++;g=d.substring(h,j),e.push(g)}else{for(var k=-1,l=0;l<f.length;l++)if(d.indexOf(f[l],j)==j){k=l;break}if(0>k)throw"Invalid date value: "+d;e.push(f[l]),j+=f[l].length}if(i>j&&v(g=d.charAt(j)))for(e.push(" ");i>j&&v(d.charAt(j));)j++}return e},j=function(a){if(a=w(a)){var b=h(a),c=b.indexOf("a")>=0;if(c&&b.indexOf("H")>=0)throw"Invalid datetime read format - 'H'와 'a'가 같이 존재할 수 없습니다: "+a;if(b.indexOf("h")>=0&&!c)throw"Invalid datetime read format - 'h'가 있으면 'a'가 반드시 있어야 합니다: "+a}},k=function(a){if(d="am",e="pm",f=2e3,g=!1,a){var b=a.split(";");if(c=b[0]?b[0]:_defaultFormat,j(c),b.length>1&&b[1]&&(f=da(b[1])),b.length>2&&b[2]){var h=b[2].split(",");d=h[0]?h[0]:"am",h.length>1&&(e=h[1]?h[1]:"pm")}b.length>3&&(g=b[3]?"1"==b[3]:!1)}};this.formatString=function(){return b},this.setFormatString=function(a){a!=b&&(b=a,k(a))},this.format=function(){return c},this.getDate=function(a){var b=null;if(a=w(a)){for(var g,j=h(c),k=i(a,d,e),l=(j.indexOf("a")>=0||j.indexOf("A")>=0,j.length),m=k.length,n=0,o=1,p=1,q=0,r=0,s=0,t=0,u=0,v=0,x=0;l>v&&m>x;){var y=j[v],z=k[x];switch(y.charAt(0)){case"L":for(g=String(z),v++;l>v&&"E"!=(a=j[v]);){switch(z=g?da(g.substr(0,a.length)):-1,g=g.substr(a.length),a.charAt(0)){case"Y":case"y":n=Math.max(0,z);break;case"M":o=z>=0?z:1;break;case"D":case"d":p=z>=0?z:1;break;case"H":case"h":q=Math.max(0,z);break;case"m":r=Math.max(0,z);break;case"s":s=Math.max(0,z)}v++}break;case"Y":case"y":n=da(z);break;case"M":o=da(z);break;case"D":case"d":p=da(z);break;case"H":case"h":q=da(z);break;case"m":r=da(z);break;case"s":s=da(z);break;case"a":a=String(z),a&&(a=a.toLowerCase(),d&&a==d.toLowerCase()||"am"==a?t=12:(e&&a==e.toLowerCase()||"pm"==a)&&(u=12))}v++,x++}if(100>n&&n>=0&&(n+=f),0>n||n>9999)return null;if(1>o||o>12)return null;if(1>p||p>31)return null;if(2==o){if(p>29)return null;if(29==p&&(n%4!=0||n%100==0)&&n%400!=0)return null}if(0>q||q>24)return null;if((t>0||u>0)&&q>12)return null;if(0>r||r>59)return null;if(0>s||s>59)return null;t>0?q%=12:u>0&&(q=q%12+12),b=new Date(n,o-1,p,q,r,s)}return b},this.getDateNull=function(a){try{return this.getDate(a)}catch(b){}return null},this.getText=function(a){var b=a;b instanceof Date||(b=new Date(a));for(var f,g=h(c),i=g.indexOf("a")>=0||g.indexOf("A")>=0,j="",k=0,l=g.length;l>k;k++){var m=g[k],n=m.length;switch(m.charAt(0)){case"L":break;case"Y":case"y":j+=n>2?b.getFullYear():aa(b.getFullYear()%100);break;case"M":j+=n>1?aa(b.getMonth()+1):b.getMonth()+1;break;case"D":case"d":j+=n>1?aa(b.getDate()):b.getDate();break;case"H":j+=n>1?aa(b.getHours()):b.getHours();break;case"h":i?(f=b.getHours(),0==f?f=12:f>12&&(f-=12),j+=n>1?aa(f):f):j+=n>1?aa(b.getHours()):b.getHours();break;case"m":j+=n>1?aa(b.getMinutes()):b.getMinutes();break;case"s":j+=n>1?aa(b.getSeconds()):b.getSeconds();break;case"A":case"a":j+=b.getHours()<12?d:e;break;default:j+=m}}return j},this._daysOfYear=function(a){for(var b=[31,28,31,30,31,30,31,31,30,31,30],c=0,d=0;d<a.getMonth();d++)c+=b[d];if(a.getMonth()>=2){var e=a.getFullYear();(e%400==0||e%4==0&&e%100!=0)&&c++}return c+=a.getDate()},this._daysOfPriorYears=function(a){if(1900>=a)return 0;a--;var b=parseInt(a/4)-parseInt(a/100)+parseInt(a/400)-460;return 365*(a-1899)+b},this.toExcelDate=function(a){var b=864e5,c=(1e3*(60*(60*a.getHours()+a.getMinutes())+a.getSeconds())+a.getMilliseconds())/b,d=this._daysOfPriorYears(a.getFullYear())+this._daysOfYear(a),e=d+c;return e>=60&&e++,e},this.getDateValue=function(a,b){if(!u(a))return null;switch(b){case zc.YEAR:return a.getFullYear();case zc.HALF:return a.getMonth()>5?2:1;case zc.QUARTER:return ca(a.getMonth()/3)+1;case zc.MONTH:return a.getMonth()+1;case zc.WEEKOFYEAR:var c=new Date(a.getFullYear(),0,1);return c.setDate(c.getDate()-c.getDay()),ca((a-c)/rc)+1;case zc.WEEKOFMONTH:var c=new Date(a.getFullYear(),a.getMonth(),1);return c.setDate(c.getDate()-c.getDay()),ca((a-c)/rc)+1;case zc.WEEKDAY:return a.getDay();case zc.DAY:return a.getDate();case zc.HOUR:return a.getHours()}},this.setFormatString(a)};tc.$_DefaultFormat="yyyy/MM/dd",tc.Default=new tc(tc.$_DefaultFormat);var uc=function(){},vc=60*sc.getTimezoneOffset()*1e3;uc.parse=function(a,b){var c=null;try{var d,e,f,g,h=a.indexOf("T"),i=a.substring(0,h),j=a.substring(h+1),k=i.split("-"),l=k.length,m=da(k[0]),n=l>1?da(k[1]):1,o=l>2?da(k[2]):1;-1!=j.indexOf("Z")?(d=1,e=0,f=0,j=j.replace("Z","")):-1!=j.indexOf("+")?(d=1,g=j.substring(j.indexOf("+")+1,j.length),e=Number(g.substring(0,g.indexOf(":"))),f=Number(g.substring(g.indexOf(":")+1,g.length)),j=j.substring(0,j.indexOf("+"))):-1!=j.indexOf("-")?(d=-1,g=j.substring(j.indexOf("-")+1,j.length),e=Number(g.substring(0,g.indexOf(":"))),f=Number(g.substring(g.indexOf(":")+1,g.length)),j=j.substring(0,j.indexOf("-"))):d=0;var p=j.split(":");l=p?p.length:0;var q=l>0?da(p[0]):0,r=l>1?da(p[1]):0,s=l>2?String(p[2]).split("."):null,t=s&&s.length>0?da(s[0]):0,u=s&&s.length>1?1e3*parseFloat("0."+s[1]):0,v=Date.UTC(m,n-1,o,q,r,t,u),w=d?(36e5*e+6e4*f)*d:-vc;if(c=new Date(v-w),b&&isNaN(c.getTime()))throw"Invalidate date text: "+a}catch(x){if(b){var y="Invalid date Text: "+a;throw y+="\nError: "+x.toString()}}return c};var wc=function(a){var b=null,c=0,d=new Zb,e=function(a){if(a){var b=a.toLowerCase();c=Math.max(0,wc.FORMATS.indexOf(b)),0==c&&d.setFormat(a)}};this.format=function(){return b},this.setFormat=function(a){a!=b&&(b=a,e(a))},this.amText=function(){return d.amText()},this.setAmText=function(a){d.setAmText(a)},this.pmText=function(){return d.pmText()},this.setPmText=function(a){d.setPmText(a)},this.baseYear=function(){return d.baseYear()},this.setBaseYear=function(a){d.setBaseYear(a)},this.toDate=function(a){if(void 0===a||null===a||""===a)return null;var b=a;if(!(b instanceof Date)){var e=String(a);if(e)switch(c){case 0:b=d.parse(e);break;case 1:b=uc.parse(e);break;case 2:default:b=new Date(e)}}return b?isNaN(b.getTime())?null:b:null},this.setFormat(a)};wc.FORMATS=["custom","iso","platform"],wc.Default=new wc("yyyy/MM/dd HH:mm:ss"),wc.Default.setAmText("AM"),wc.Default.setPmText("PM"),wc.Default.setBaseYear(2e3),ExcelFormatConverter=Ba("ExcelFormatConverter",null,{},{convertNumberFormat:function(a){return a.indexOf(".#")>0?a.replace(".#",".0"):a},convertDateFormat:function(a){for(var b="",c=a.length,d=0;c>d;d++){var e=a.charAt(d);switch(e){case"y":case"d":case"m":case"s":case":":b+=e;break;case"M":b+="m";break;case"a":b+="AM/PM";break;case"H":b+="h",(d>=c-1||"H"!=a.charAt(d+1))&&(b+="h");break;case"h":(0==d||"h"!=a.charAt(d-1))&&(b+="h");break;case"S":break;case".":case"/":case"-":case" ":(d>=c-1||"S"!=a.charAt(d+1))&&(b=b+"\\"+e);break;default:b=b+'"'+e+'"'}}return b}}),ExcelFormatConverter.Default=new ExcelFormatConverter;var xc=I({COLUMN:"column",ROW:"row",VALUE:"value"}),yc=I({SUM:"sum",COUNT:"count",MIN:"min",MAX:"max",AVERAGE:"average",DISTINCT:"DISTINCT"}),zc=I({YEAR:"year",HALF:"half",QUARTER:"quarter",MONTH:"month",WEEKOFYEAR:"weekofyear",WEEKOFMONTH:"weekofmonth",WEEKDAY:"weekday",DAY:"day",HOUR:"hour"}),Ac=I({ALL:"all",EXPRESSION:"expression",ITEMS:"items"}),Bc=I({AND:"and",OR:"or"}),Cc=I({LABEL:"label",VALUE:"value"}),Dc=I({NONE:"none",ASCENDING:"ascending",DESCENDING:"descending"}),Ec=Ba("PivotField",null,{init:function(a,b){this._super(),this._owner=a,this._dataSource=a.getDataSource(),this._orgField=null,this._sourceFieldIndex=ua,this._displayFieldIndex=ua,this._formatter=null,b&&this.assign(b)},destroy:function(){this._owner=null,this._dataSource=null,this._orgField=null,this._super()},name:null,sourceField:null,fieldHeader:null,fieldType:null,dateType:null,labelEnable:!0,valueEnable:!0,filterEnable:!0,displayLabels:null,displayFormat:null,displayField:null,summaryHeader:null,summaryFormat:null,sortDir:Dc.NONE,expression:null,numberFormat:null,prefix:null,suffix:null,setDateType:function(a){this._orgField.dataType()==Grids.ValueType.DATETIME?this._dateType=a:this._dateType=null},setSourceField:function(a){this._sourceField!=a&&(this._sourceField=a,a?(this._sourceFieldIndex=this._dataSource.getFieldIndex(a),this._orgField=this._dataSource.getField(this._sourceFieldIndex),Y(this._sourceFieldIndex>ua,"sourceField is not found in dataProvider.")):(this._sourceFieldIndex=ua,this._orgField=null))},setDisplayField:function(a){this._displayField!=a&&(this._displayField=a,a?(this._displayFieldIndex=this._dataSource.getFieldIndex(a),Y(this._displayFieldIndex>ua,"displayField is not found in dataProvider.")):this._displayFieldIndex=ua)},setDisplayLabels:function(a){a?this._displayLabels=B(a):this._displayLabels=null},getDisplayLabels:function(){return this._displayLabels?B(this._displayLabels):null},setNumberFormat:function(a){a!=this._numberFormat&&(a&&(this._formatter?this._formatter.parse(a):this._formatter=new Wb(a)),this._numberFormat=a)},assign:function(a){Y(a.name,"name is not defined."),Y(a.sourceField,"sourceField is not defined."),this._super(a),this._orgField&&this._orgField.dataType()==Grids.ValueType.NUMBER&&!this._numberFormat&&this.setNumberFormat("#0")},getOrgIndex:function(){return this._sourceFieldIndex},getFieldHeader:function(){return this._fieldHeader?this._fieldHeader:this._name},getSummaryLabel:function(a,b){return this._summaryFormat?this._summaryFormat.replace("${value}",a).replace("${label}",b):this._summaryHeader?this._summaryHeader:a},getDisplayText:function(a){var b;return this._formatter&&(b=this._formatter.format(a)),this._prefix&&(b=this._prefix+a),this._suffix&&(b+=this._suffix),b}}),Fc=Ba("PivotFieldManager",null,{init:function(a){this._super(),this._owner=a,this._fields=[],this._columns=[],this._rows=[],this._values=[]},destroy:function(){this.clear(),this._owner=null,this._super()},$_fillFieldList:function(a,b,c){var d;if(b)for(var e=0,f=b.length;f>e;e++)d=h(b[e])?this.getFieldByName(b[e]):this.getFieldByName(b[e].name),d&&(a==xc.VALUE&&d.setExpression(b[e].expression?b[e].expression:yc.SUM),d.setFieldType(a),a!=xc.VALUE&&d.setSortDir(d.direction?d.direction:Dc.ASCENDING),d&&c.push(d))},$_packFieldList:function(a,b){for(var c,d=[],e=0,f=b.length;f>e;e++)c=b[e],a==xc.VALUE?d.push({name:c.name(),expression:c.expression()}):d.push(c.name());return d},clear:function(){var a,b;this._columns=[],this._rows=[],this._values=[],this._sortMethod=Cc.LABELS,this._colDirFlds=[],this._rowDirFlds=[],this._colCondFlds=[],this._rowCondFlds=[],this._valueField=null;for(var a=0,b=this._fields.length;b>a;a++)this._fields[a].destroy(),delete this._fields[a];this._fields=[]},fieldCount:function(){return this._fields.length},getField:function(a){return this._fields[a]},getFieldByName:function(a){for(var b=0,c=this._fields.length;c>b;b++)if(this._fields[b].name()==a)return this._fields[b];return null},columnCount:function(){return this._columns.length},getColumn:function(a){return this._columns[a]},getColumns:function(){return this._columns.slice(0)},rowCount:function(){return this._rows.length},getRow:function(a){return this._rows[a]},getRows:function(){return this._rows.slice(0)},valueCount:function(){return this._values.length},getValueNames:function(){for(var a=[],b=0,c=this._values.length;c>b;b++)a.push(this._values[b].name());return a},getValue:function(a){return this._values[a]},getValues:function(){return this._values.slice(0)},setFieldMapping:function(a){var b,c;for(this.clear(),b=0,c=a.length;c>b;b++){var d=new Ec(this._owner,a[b]);this._fields.push(d)}},setPivotFields:function(a){this._columns=[],this._rows=[],this._values=[],this.$_fillFieldList(xc.COLUMN,a.columns,this._columns),this.$_fillFieldList(xc.ROW,a.rows,this._rows),this.$_fillFieldList(xc.VALUE,a.values,this._values)},getPivotFields:function(a){return{columns:this.$_packFieldList(xc.COLUMN,this._columns),rows:this.$_packFieldList(xc.ROW,this._rows),values:this.$_packFieldList(xc.VALUE,this._values)}},clearSortDirs:function(){for(var a=this._fields.length;a--;)this._fields[a].setSortDir(Dc.NONE)}}),Gc=(Ba("PivotFieldManager",null,{init:function(a){this._super(),this._fieldManager=a,this.clear()},destroy:function(){this.clear(),this.fieldManager=null,this._super()},$_fillSortLabels:function(a,b,c){for(var d=0,e=a.length;e>d;d++){b.push(a[d].name);var f=a[d].direction?a[d].direction:Dc.ASCENDING,g=this._fieldManager.getFieldByName(a[d].name);g.setSortDir(f),c.push(f)}},$_fillSortConditions:function(a,b,c){for(var d=0,e=a.length;e>d;d++)b.push(a[d].name),c.push(a[d].value)},$_packSortLabels:function(a,b){for(var c=[],d=0,e=a.length;e>d;d++)c.push({name:a[d],direction:b[d]});return c},$_packSortConditions:function(a,b){for(var c=[],d=0,e=a.length;e>d;d++)c.push({name:a[d],direction:b[d]});return c},clear:function(){this._colSortMethod=Cc.LABEL,this._rowSortMethod=Cc.LABEL,this._colValueField=null,this._colValueDir=Dc.NONE,this._rowValueField=null,this._rowValueDir=Dc.NONE,this._colFlds=[],this._rowFlds=[],this._colDirs=[],this._rowDirs=[],this._colCondFlds=[],this._rowCondFlds=[],this._colCondVals=[],this._rowCondVals=[]},setValues:function(a){this.clear(),a&&(a.column&&(a.column.method&&(this._colSortMethod=a.column.method),this._colSortMethod==Cc.LABEL?(this.$_fillSortLabels(a.column.labels,this._colFlds,this._colDirs),this._colValueField=null):(this.$_fillSortConditions(a.column.conditions,this._colCondFlds,this._colCondVals),this._colValueField=a.column.fieldName,this._colValueDir=a.column.direction?a.column.direction:Dc.ASCENDING)),a.row&&(a.row.method&&(this._rowSortMethod=a.row.method),this._colSortMethod==Cc.LABEL?(this.$_fillSortLabels(a.row.labels,this._rowFlds,this._rowDirs),this._rowValueField=null):(this.$_fillSortConditions(a.row.conditions,this._rowCondFlds,this._rowCondVals),this._rowValueField=a.row.fieldName,this._rowValueDir=a.row.direction?a.column.direction:Dc.ASCENDING)))},getValues:function(){var a={method:this._sortMethod};switch(this._sortMethod){case Cc.COL_VALUES:a.columns=this.$_packSortLabels(this._colFlds,this._colDirs),a.rows=this.$_packSortConditions(this._rowCondFlds,this._rowCondVals);break;case Cc.ROW_VALUES:a.columns=this.$_packSortConditions(this._colCondFlds,this._colCondVals),a.rows=this.$_packSortLabels(this._rowFlds,this._rowDirs);break;default:a.columns=this.$_packSortLabels(this._colFlds,this._colDirs),a.rows=this.$_packSortLabels(this._rowFlds,this._rowDirs)}this._sortMethod!=Cc.LABELS&&(this._valueField=source.value.name,this._valueDir=source.value.direction?source.value.direction:Dc.ASCENDING)},isSorted:function(){return this._colFlds.length>0||this._rowFlds.length>0},getColFldCount:function(){return this._colFlds.length},getRowFldCount:function(){return this._rowFlds.length},getColCondCount:function(){return this._colCondFlds.length},getRowCondCount:function(){return this._rowCondFlds.length},getColFld:function(a){return[this._colFlds[a],this._colDirs[a]]},getRowFld:function(a){return[this._rowFlds[a],this._rowDirs[a]]},getColCondFld:function(a){return[this._colCondFlds[a],this._colCondVals[a]]},getRowCondFld:function(a){return[this._rowCondFlds[a],this._rowCondVals[a]]},getValueFld:function(){return[this._valueField["this"]._valueDir]},getColDir:function(a){var b;return(b=this._colFlds.indexOf(a))>-1?this._colDirs[b]:Dc.NONE},getRowDir:function(a){var b;return(b=this._rowFlds.indexOf(a))>-1?this._rowDirs[b]:Dc.NONE},getColDirs:function(){return this._colDirs.slice(0)},getRowDirs:function(){return this._rowDirs.slice(0)}}),Ba("FilterItem",null,{init:function(){this._super(),this._exprNode=null,this._field=null},destroy:function(){this._exprNode=null,this._field=null,this._super()},type:Ac.ALL,field:null,values:null,criteria:null,setCriteria:function(a){a?this._exprNode=nb.Default.parse(a,null):this._exprNode=null,this._criteria=a},parse:function(a){if(a.criteria)this._type=Ac.EXPRESSION,this.setCriteria(a.criteria);else if("all"==a.values)this._type=Ac.ALL;else if(this._values=[],this._type=Ac.ITEMS,n(a.values))for(var b=0,c=a.values.length;c>b;b++)this._values.push(a.values[b]);else this._values.push(a.values)},toObject:function(){var a={};switch(a.name=this._field.fieldName(),this._type){case Ac.ALL:a.values="all";break;case Ac.EXPRESSION:a.criteria=this._criteria;break;case Ac.ITEMS:a.values=this._values.slice(0)}return a},checkExpress:function(a,b){return this._exprNode?(a.setData(b),this._exprNode.evaluate(a)):!1},checkInclude:function(a){return this._values&&this._values.length>0?this._values.indexOf(a)>-1:!1}})),Hc=Ba("FilterManager",null,{init:function(a){this._super(),this._owner=a,this._filters=[],this._fieldManager=a.fieldManager()},destroy:function(){this.$_clear(),this._super()},operation:Bc.AND,$_clear:function(){for(var a=this._filters.length;a--;)this._filters[a].destroy(),delete this._filters[a];this._filters=[]},count:function(){return this._filters.length},parse:function(a){this._operation=a.operation?a.operation:Bc.AND,this.$_clear();for(var b=0,c=a.conditions.length;c>b;b++){var d=new Gc,e=this._fieldManager.getFieldByName(a.conditions[b].name);Y(null!=e,"[filter] Not found field. ("+a.conditions[b].name+")"),d.setField(e),d.parse(a.conditions[b]),this._filters.push(d)}},toObject:function(){if(this._filters.length>0){var a={};a.operation=this._operation,a.conditions=[];for(var b=0,c=this._filters.length;c>b;b++){var d=this._filters[b];a.conditions.push(d.toObject())}return a}return null},select:function(a,b){for(var c=!0,d=0,e=this._filters.length;e>d;d++){var f=this._filters[d],g=!0;switch(f._type){case Ac.ALL:break;case Ac.EXPRESSION:var h=this._owner._getPivotValue(b,f.field());g=f.checkExpress(a,h);break;case Ac.ITEMS:var h=this._owner._getPivotValue(b,f.field());g=f.checkInclude(h)}c=this._operation==Bc.AND?c&&g:c||g}return c}}),Ic={};Ic[yc.SUM]=function(a,b){return f(a)?a+b:b},Ic[yc.COUNT]=function(a,b){return f(a)?a+b:b},Ic[yc.MIN]=function(a,b){return f(a)?ea(a,b):b},Ic[yc.MAX]=function(a,b){return f(a)?fa(a,b):b},Ic[yc.AVERAGE]=function(a,b){return f(a)?a+b:b},Ic[yc.DISTINCT]=function(a,b){return f(b)?b:a};var Jc=Ba("PivotDataProvider",Fa,{init:function(){this._super(),this._dataSource=null,this._fieldManager=new Fc(this),this._columnLabels=[],this._rowLabels=[],this._baseValues=[],this._filteredValues=[],this._values=[],this._summaries=[],this._filters=new Hc(this),this._filterRuntime=new pb},destroy:function(){ta.freeAndNull(this._filterRuntime),ta.freeAndNull(this._filters),this._rowLabels=null,this._coumnLabels=null,this._values=null,this._summaries=null,this._baseValues=null,this._filteredValues=null,ta.freeAndNull(this._fieldManager),this._dataSource&&this._dataSource.removeListener(this),ta.freeAndNull(this._dataSource),this._super()},_getPivotValue:function(a,b){var c=a[b.getOrgIndex()];return null!=b.dateType()&&(c=tc.Default.getDateValue(c,b.dateType())),c},$_compareByValue:function(a,b){return a.value>b.value?1:b.value>a.value?-1:0},$_getChildLabels:function(a,b,c){var d=[],e=this.getDistinctValues(b[a],b.slice(0,a),c);e.sort(this.$_compareByValue);for(var f=0,g=e.length;g>f;f++){var h=B(e[f]);a<b.length-1&&(h.childs=this.$_getChildLabels(a+1,b,c.concat(e[f].value))),d.push(h)}return e=[],d},$_extractLabels:function(){var a=this._fieldManager.getColumns(),b=this._fieldManager.getRows();this._columnLabels=a.length>0?this.$_getChildLabels(0,a,[]):[],this._rowLabels=b.length>0?this.$_getChildLabels(0,b,[]):[]},$_getValueLabels:function(a,b){for(var c=[],d=0,e=b.length;e>d;d++){var f=b[d];if(a[f.getOrgIndex()]){var g={};g.name=b[d].name(),g.value=this._getPivotValue(a,f),c.push(g)}}return c},$_findValue:function(a,b,c,d){for(var e,f=0,g=a.length;g>f;f++)if(e=a[f],p(e.rows,b)&&p(e.cols,c)&&e.valueField==d.name())return e;return null},$_putValue:function(a,b,c,d,e){var f=Ic[d.expression()],g=this.$_findValue(a,b,c,d);g?(g.value=f(g.value,e),g.count++):(g={},g.rows=b.slice(0),g.cols=c.slice(0),g.valueField=d.name(),g.value=e,g.count=1,a.push(g))},$_summaraizeValues:function(){var a,b,c,d,e,g,h,i,j=this._fieldManager.getColumns(),k=this._fieldManager.getRows(),l=this._fieldManager.valueCount();for(this._values=[],a=0,c=this._filteredValues.length;c>a;a++)if(e=this._filteredValues[a],h=this.$_getValueLabels(e,j),i=this.$_getValueLabels(e,k),h&&h.length>0&&i&&i.length>0)for(b=0;l>b;b++)d=this._fieldManager.getValue(b),g=e[d.getOrgIndex()],f(g)&&this.$_putValue(this._values,i,h,d,g)},$_summarizeGroups:function(){this._summaries=[];for(var a,b,c,d,e,g,h,a=0,i=this._values.length;i>a;a++)if(h=this._values[a],d=this._fieldManager.getFieldByName(h.valueField),f(h.value))for(b=0,g=h.rows.length;g+1>b;b++)for(c=0,e=h.cols.length;e+1>c;c++)(b!=g||c!=e)&&this.$_putValue(this._summaries,h.rows.slice(0,b),h.cols.slice(0,c),d,h.value)},onDataProviderRefresh:function(){this._baseValues=this._dataSource.getRows(),this._filteredValues=B(this._baseValues),this.buildPivotData()},fieldManager:function(){return this._fieldManager},isEmpty:function(){return 0==this._fieldManager.valueCount()||0==this._fieldManager.columnCount()&&0==this._fieldManager.rowCount()},isDataEmpty:function(){return 0==this._values.length},setDataSource:function(a){a?(Y(a._dp&&a._dp instanceof Grids.LocalDataProvider,"provider indices must be RealGridJS.LocalDataProvider."),this._dataSource=a._dp,this._dataSource.addListener(this)):(this._dataSource.removeListener(this),this._dataSource=null)},getDataSource:function(){return this._dataSource},clearFieldMapping:function(){this._fieldManager.clear()},setFieldMapping:function(a){this._fieldManager.setFieldMapping(a)},getFieldMapping:function(){for(var a=[],b=this._fieldManager,c=0,d=b.fieldCount();d>c;c++)a.push(b.getField(c).proxy());return a},setPivotFields:function(a){this._fieldManager.setPivotFields(a),a.filter&&this.filter(a.filter),this._baseValues&&this._baseValues.length>0&&this.buildPivotData()},getPivotFields:function(){var a=this._fieldManager.getPivotFields(!this._valueSorted);return this._filters.count()>0&&(a.filter=this._filters.toObject()),a},buildPivotData:function(){this.$_summaraizeValues(),this.$_summarizeGroups(),this.$_extractLabels(),this.fireEvent(Jc.DATA_REFRESHED)},resetFilter:function(){this._filteredValues=B(this._baseValues),this.buildPivotData()},filter:function(a){this._filters.parse(a),this._filteredValues=[];for(var b=0,c=this._baseValues.length;c>b;b++)this._filters.select(this._filterRuntime,this._baseValues[b])&&this._filteredValues.push(this._baseValues[b]);this.buildPivotData()},getDistinctValues:function(a,b,c){var d,e,f,g,h=[],i=this._filteredValues,j=b.length;for(d=0,l=i.length;d<l;d++){f=this._getPivotValue(i[d],a);var k=s(h,"value",f)<0;if(k)for(e=0;j>e;e++)if(g=this._getPivotValue(i[d],b[e]),g!=c[e]){k=!1;break}if(k){var m={};m.name=a._name,m.value=f,a._displayFieldIndex>ua?m.label=i[d][a._displayFieldIndex]:a._displayFormat?m.label=a._displayFormat.replace("${value}",f):a._displayLabels&&(m.label=a._displayLabels[f]),h.push(m)}}return h}});Jc.DATA_REFRESHED="onPivotDataRefreshed";var Kc=Ba("Request",null,{init:function(){this._super()},cursor:function(){return Pb.AUTO},source:function(){return null},isSelectable:function(){return!1},isDblClickable:function(){return!1}}),Lc=Ba("CellRequest",Kc,{init:function(a){this._super(),this._cell=a},destroy:function(){this._super(),this._cell=null},cell:function(){return this._cell},cursor:function(){return null},source:function(){return this._cell},isSelectable:function(){return!0},isDblClickable:function(){return!1}}),Mc=Ba("ColumnResizeRequest",Lc,{init:function(a){this._super(a)},delta:0,cursor:function(){return Pb.HORZ_RESIZE},isSelectable:function(){return!1}}),Nc=Ba("RowResizeRequest",Lc,{init:function(a){this._super(a)},cursor:function(){return Pb.VERT_RESIZE},isSelectable:function(){return!1}}),Oc=Ba("ColumnLevelResizeRequest",Kc,{init:function(a,b){this._super(),this._grid=a,this._level=b},destroy:function(){this._super(),this._grid=null},delta:0,grid:function(){return this._grid},level:function(){return this._level},cursor:function(){return Pb.VERT_RESIZE},isSelectable:function(){return!1}}),Pc=Ba("RowLevelResizeRequest",Kc,{init:function(a,b){this._super(),this._grid=a,this._level=b},destroy:function(){this._super(),this._grid=null},grid:function(){return this._grid},level:function(){return this._level},cursor:function(){return Pb.HORZ_RESIZE},isSelectable:function(){return!1}}),Qc=(Ba("DataCellRequest",Kc,{init:function(a){this._super(),this._index=a},cursor:function(){return null},source:function(){return null},isSelectable:function(){return!0}}),Ba("DragTracker",null,{init:function(a,b,c,d){this._super(),this._container=a,this._name=b,this._active=!1,this._completed=!1,this._dragging=!1,this._startX=c,this._startY=d,this._currentX=0,this._currentY=0},cancelabel:!1,container:function(){return this._container},name:function(){return this._name},isActive:function(){return this._active},isDragging:function(){return this._dragging},startWhenCreated:function(){return!1},isCompleted:function(){return this._completed},activate:function(){this._active||(this._doActivate(),this._active=!0)},deactivate:function(){this._active&&(this.cancel(),this._doDeactivate(),this._active=!1)},start:function(a,b,c){return this.cancel(),this._active&&this._doStart(a,b,c)?(this._currentX=this._startX=a,this._currentY=this._startY=b,this._dragging=!0,this._completed=!1,this._showFeedback(a,b),!0):!1},drag:function(a,b){return this._dragging&&(this._currentX=a,this._currentY=b,this._doDrag(a,b))?(this._moveFeedback(a,b),!0):!1},cancel:function(){try{if(this._dragging)try{this._dragging=!1,this._doCanceled()}finally{this._doEnded()}}finally{this._hideFeedback()}},drop:function(a,b){try{if(this._dragging)try{this._currentX=a,this._currentY=b,this._dragging=!1,this._canAccept(a,b)?(this._doCompleted(a,b),this._completed=!0):this._doCanceled(a,b)}finally{this._doEnded()}}finally{this._hideFeedback()}},getNextRequest:function(a,b){return null},startX:function(){return this._startX},startY:function(){return this._startY},currentX:function(){return this._currentX},currentY:function(){return this._currentY},offsetX:function(){return this._currentX-this._startX},offsetY:function(){return this._currentY-this._startY},_showFeedback:function(a,b){},_moveFeedback:function(a,b){},_hideFeedback:function(){},_doActivate:function(){X(this._name+" activated")},_doDeactivate:function(){X(this._name+" deactivated")},_doStart:function(a,b){return!0},_doDrag:function(a,b){return!0},_doCanceled:function(){},_canAccept:function(a,b){return!0},_doCompleted:function(){},_doEnded:function(){},_findElementAt:function(a,b,c){return this._container.findElementAt(a,b,c)}})),Rc=Ba("GridDragTracker",Qc,{init:function(a,b){this._destroying=!0,this._super(a.container(),b),this._grid=a},destroy:function(){this._grid=null,this._super()},grid:function(){return this._grid},isStartWhenCreated:function(){return!1},checkScrolling:function(){return this._grid.checkScrolling()},checkHScrolling:function(){return this._grid.checkHSCrolling()}}),Sc=2,Tc=Ba("ColumnResizeTracker",Rc,{init:function(a,b,c){var d=this._cell=a.cell(),e=d.grid();this._super(e,"columnResizeTracker"),this._request=a,this._startWidth=d.width(),this._offset=b-this._startWidth},_doStart:function(a,b){return!0},_doDrag:function(a,b){var c=this._cell,d=(c.grid(),a-this._offset);return d>=Sc&&(c.changeSize(d-this._startWidth,0),this._startWidth=d),!0},_doEnded:function(){for(var a=this._cell,b=a.grid(),c=a.getFamilyTree(),d=c.length;d--;)b.setOrgColumnWidth(c[d],c[d].width())}}),Uc=Ba("RowResizeTracker",Rc,{init:function(a,b,c){var d=this._cell=a.cell(),e=d.grid();this._super(e,"rowResizeTracker"),this._request=a,this._startHeight=d.height(),this._offset=c-this._startHeight},_doStart:function(a,b){return!0},_doDrag:function(a,b){var c=this._cell,d=(c.grid(),b-this._offset);return d>=Sc&&(c.changeSize(0,d-this._startHeight),this._startHeight=d),!0},_doEnded:function(){for(var a=this._cell,b=a.grid(),c=a.getFamilyTree(),d=c.length;d--;)b.setOrgRowHeight(c[d],c[d].height())}}),Vc=Ba("ColumnResizeTracker",Rc,{init:function(a,b,c){var d=a.grid();this._super(d,"columnLevelResizeTracker"),this._request=a,this._level=a.level(),this._startHeight=d.columnLevelHeight(this._level),this._offset=c-this._startHeight},_doStart:function(a,b){return!0},_doDrag:function(a,b){var c=this._level,d=this._request.grid(),e=b-this._offset;return e>=Sc&&(d.changeColumnLevelHeight(c,e-this._startHeight),this._startHeight=e),!0},_doEnded:function(){}}),Wc=Ba("RowLevelResizeTracker",Rc,{init:function(a,b,c){var d=this._grid=a.grid();this._super(d,"rowLevelResizeTracker"),this._request=a,this._level=a.level(),this._startWidth=d.rowLevelWidth(this._level),this._offset=b-this._startWidth},_doStart:function(a,b){return!0},_doDrag:function(a,b){var c=this._level,d=this._request.grid(),e=a-this._offset;return e>=Sc&&(d.changeRowLevelWidth(c,e-this._startWidth),this._startWidth=e),!0},_doEnded:function(){}}),Xc=Ba("PivotViewTool",Tb,{init:function(a){this._super(a),this._request=null},_doKeyDown:function(a,b,c,d){return X("tool: keyDown("+a+")"),!1},_doKeyUp:function(a,b,c,d){return X("tool: keyUp("+a+")"),!1},_doKeyPress:function(a){X("tool: keyPress("+a+")")},_doClick:function(a,b){X("tool: click("+a+","+b+")")},_doDblClick:function(a,b){X("tool: dblClick("+a+","+b+")")},_doMouseDown:function(a,b,c,d,e,f){if(this._request){var g=this._getDragTracker(this._request,a,b);this.setDragTracker(g)}else{var h=this.findElementAt(a,b);if(h){var i=h.containerToClient(a,b);h instanceof Ja&&h.click(i.x,i.y)}}f.preventDefault()},_doMouseMove:function(a,b){var c=this._owner;if(c.setCursor(Pb.DEFAULT),!this.isDragging()){var d=this.findElementAt(a,b,!0),e=this._request=this._getRequest(d,a,b);e&&e.cursor()&&c.setCursor(e.cursor())}},_doMouseUp:function(a,b){},_doMouseEnter:function(a,b){X("tool: mouseEnter("+a+","+b+")")},_doMouseLeave:function(a,b){X("tool: mouseLeave("+a+","+b+")");
},_doMouseOver:function(a,b){X("tool: mouseOver("+a+","+b+")")},_doMouseOutside:function(){},_doMouseWheel:function(a,b,c,d){X("tool: mouseWheel("+c+","+d+")");var e=this._owner._scrollContainer.wheelScroll(c,d);return e},_doTouchStart:function(a){X("tool: touchStart")},_doTouchMove:function(a){X("tool: touchMove")},_doTouchEnd:function(a){X("tool: touchEnd")},_doTouchCancel:function(a){X("tool: touchCancel")},_getRequest:function(a,b,c,d,e){var f,g;this._owner;return a instanceof Fd?new Hd(a):a instanceof jd?(g=a,(f=this.$_getColumnResizeRequest(b,c))?f:(f=this.$_getRowResizeRequest(b,c),f?f:null)):null},_getDragTracker:function(a,b,c){return a instanceof Hd?new Id(a,b,c):a instanceof Mc?new Tc(a,b,c):a instanceof Nc?new Uc(a,b,c):a instanceof Oc?new Vc(a,b,c):a instanceof Pc?new Wc(a,b,c):void 0},$_getColumnResizeRequest:function(a,b){var c=this._owner,d=c.columnView(),e=d.boundsByContainer();if(e.inflate(0,0,Rb,Rb),!e.contains(a,b))return null;for(var f=d.getChildren(),g=e.left()+c.leftPos(),h=e.top(),i=0,j=f.length;j>i;i++){var k=f[i];if(b>=h+k.top()&&b<=h+k.bottom()&&this.inDraggablePt(a,g+k.right()))return new Mc(k);if(this.inDraggablePt(b,h+k.bottom()))return new Oc(c,k.level())}return null},$_getRowResizeRequest:function(a,b){var c=this._owner,d=c.rowView(),e=d.boundsByContainer();if(e.inflate(0,0,Rb,Rb),!e.contains(a,b))return null;for(var f=d.getChildren(),g=e.left(),h=e.top()+c.topPos(),i=0,j=f.length;j>i;i++){var k=f[i];if(a>=g+k.left()&&a<=g+k.right()&&this.inDraggablePt(b,h+k.bottom()))return new Nc(k);if(this.inDraggablePt(a,g+k.right()))return new Pc(c,k.level())}return null}}),Yc=I({FIRST:"first",LAST:"last"}),Zc=I({COLUMN:"column",ROW:"row",VALUE:"value"}),$c=Ba("PivotOptions",null,{init:function(a){this.assign(a),this._super()},destroy:function(){this._super()}}),_c=Ba("DisplayOptions",$c,{columnHeight:20,rowHeight:20,columnWidth:60,rowLabelWidth:80,rowGroupWidth:70,showTooltip:!0,showLabelTooltip:!0,blankFillValue:0,emptyMessage:"No Data.",notReadyMessage:"No configure pivot fields."}),ad=Ba("SummaryOptions",$c,{columnVisible:!0,rowVisible:!0,columnGroupVisible:!0,rowGroupVisible:!0,columnPosition:Yc.FIRST,rowPosition:Yc.FIRST,columnTotalText:"Total",rowTotalText:"Total"}),bd=Ba("HeaderOptions",$c,{titleVisible:!0,titleHeight:20,rowHeadVisible:!0,columnHeadVisible:!0,valueHeadVisible:!0,menuButtonVisible:!0,setupButtonVisible:!0}),cd=Ba("PivotEmptyElement",Ia,{init:function(a){this._super(a,"rp-empty"),this._mouseEnabled=!1,this._messageSpan=null},destroy:function(){this._messageSpan&&this._element.removeChild(this._messageSpan),this._messageSpan=null,this._super()},_layoutCells:function(){var a=this.grid(),b=a.displayOptions().emptyMessage();this._messageSpan||(this._messageSpan=N.createElement("span"),this._messageSpan.className=this.cssClass(),this._element.appendChild(this._messageSpan)),this._messageSpan.textContent=b},_doRender:function(a){}}),dd=Ba("PivotEmptyElement",Ia,{init:function(a){this._super(a,"rp-noready"),this._mouseEnabled=!1,this._messageSpan=null,this._productSpan=null},destroy:function(){this._messageSpan&&this._element.removeChild(this._messageSpan),this._productSpan&&this._element.removeChild(this._productSpan),this._messageSpan=null,this._productSpan=null,this._super()},_layoutCells:function(){var a=this.grid(),b=a.displayOptions().notReadyMessage(),c=wa.toString();this._messageSpan||(this._messageSpan=N.createElement("span"),this._messageSpan.className=this.cssClass(),this._element.appendChild(this._messageSpan)),this._messageSpan.textContent=b,this._productSpan||(this._productSpan=N.createElement("span"),this._productSpan.className=this.cssClass()+"-product",this._productSpan.style.position="absolute",this._productSpan.style.right="5px",this._productSpan.style.bottom="5px",this._element.appendChild(this._productSpan)),this._productSpan.textContent=c},_doRender:function(a){}}),ed=Ba("HeaderElement",Ia,{init:function(a){this._super(a,"rp-header"),this._isContainer=!0,this._element.style.pointerEvents="none",this._childFixed=!0,this._titleCell=null,this._colHeaderCell=null,this._rowHeaderCell=null,this._valHeaderCell=null,this._rowTotHeight=0,this._rowHeaderHeight=0,this._valHeaderHeight=0},columnFields:null,rowFields:null,valueFields:null,setWidth:function(a){var b=!1;if(this._width&&this._width!=a&&(b=!0),this._super(a),b&&this._colHeaderCell.isVisible()){var c=this.clientRect();this._colHeaderCell.setWidth(c.width-this._grid._centralPt.x)}},getTitleCell:function(){return this._titleCell},getColHeaderCell:function(){return this._colHeaderCell},getRowHeaderCell:function(){return this._rowHeaderCell},getValHeaderCell:function(){return this._valHeaderCell},changeTitleSize:function(a,b){var c=this._grid.headerOptions(),d=c.isValueHeadVisible(),e=c.isRowHeadVisible(),f=c.isTitleVisible(),g=c.isColumnHeadVisible();if(a&&((f||g)&&(this._titleCell.inflate(a,0),this._colHeaderCell.offset(a),this._colHeaderCell.inflate(-a,0)),d&&this._valHeaderCell.inflate(a,0),e&&this._rowHeaderCell.inflate(a,0)),b){this._rowTotHeight+=b;var h=this._rowTotHeight;d&&(this._valHeaderHeight=e?ca(this._rowTotHeight/2):this._rowTotHeight,this._valHeaderCell.setHeight(this._valHeaderHeight),h-=this._valHeaderHeight),e&&(this._rowHeaderHeight=h,d&&this._rowHeaderCell.setTop(this._valHeaderCell.bottom()),this._rowHeaderCell.setHeight(this._rowHeaderHeight))}},_layoutCells:function(){this._titleCell||(this._titleCell=new ld(this._grid),this.addChild(this._titleCell)),this._colHeaderCell||(this._colHeaderCell=new md(this._grid,Zc.COLUMN),this.addChild(this._colHeaderCell)),this._rowHeaderCell||(this._rowHeaderCell=new md(this._grid,Zc.ROW),this.addChild(this._rowHeaderCell)),this._valHeaderCell||(this._valHeaderCell=new md(this._grid,Zc.VALUE),this.addChild(this._valHeaderCell));var a=this.clientRect(),b=this._grid,c=b.headerOptions(),d=c.titleHeight(),e=c.isTitleVisible(),f=c.isColumnHeadVisible(),g=c.isValueHeadVisible(),h=c.isRowHeadVisible(),i=b._centralPt,j=a.clone(),k=0;if(e||f?(j.width=i.x,j.height=d,this._titleCell.setVisible(!0),this._titleCell.setRectI(j),this._titleCell.setContentsVisible(e),this._titleCell.setMenuVisible(c.isMenuButtonVisible()),this._titleCell.setSetupVisible(c.isSetupButtonVisible()),this._titleCell.layoutContent(),j.leftBy(i.x),j.width=a.width-i.x,this._colHeaderCell.setFields(this._columnFields),this._colHeaderCell.setVisible(!0),this._colHeaderCell.setRectI(j),this._colHeaderCell.setContentsVisible(f),this._colHeaderCell.layoutContent(),k+=d):(this._titleCell.setVisible(!1),this._colHeaderCell.setVisible(!1)),a.setTop(k),a.width=i.x,this._rowTotHeight=a.height,this._valHeaderCell.setVisible(g),g){this._valHeaderCell.setFields(this._valueFields);var l=this._valHeaderHeight=h?ca(a.height/2):a.height;j=a.clone(),j.height=l,this._valHeaderCell.setRectI(j),this._valHeaderCell.layoutContent(),a.setTop(a.y+l)}else this._valHeaderCell.setVisible(!1);h||!g?(this._rowHeaderCell.setFields(this._rowFields),this._rowHeaderCell.setVisible(!0),this._rowHeaderCell.setRectI(a),this._rowHeaderHeight=a.height,this._rowHeaderCell.setContentsVisible(h),this._rowHeaderCell.layoutContent()):this._rowHeaderCell.setVisible(!1)},_doRender:function(a){}}),fd=Ba("LabelElement",Ia,{init:function(a,b){this._super(a,b),this._isContainer=!0,this._options=a.displayOptions(),this._sumOptions=a.summaryOptions(),this._rootElement=this._createRootCell()},destroy:function(){this._labels=null,this._rootElement.destroy(),this._rootElement=null,this._super()},labels:null,depth:0,cellIndexes:null,$_addIndexCell:function(a,b){this._cellIndexes[b]=a,a.setIndex(b)},_layoutCells:function(){this._super(),this._cellIndexes=[],this._layoutChildren({childs:this._labels},0,0,0,this._rootElement)},_layoutChildren:function(a,b,c,d,e){},_doRender:function(a){},_createRootCell:function(){},sortByLabel:function(a,b){this._rootElement.sortByLabel(a,b)},sortByRef:function(a,b,c,d){this._rootElement.sortByValue(a._bodies,b,c,d)},findCell:function(a,b,c){var d=this._rootElement.findLower(a,c);if(d&&b&&d._lowers.length>0){for(var e=0,f=d._lowers.length;f>e;e++){var g=d._lowers[e];if(b==g.valueField().name())return g}return null}return d}}),gd=Ba("ColumnLabelElement",fd,{init:function(a){this._super(a,"rp-col")},destroy:function(){this._values=null,this._super()},values:[],changeHeight:function(a,b){this.setHeight(this._height+b);for(var c=this._childs.length;c--;){var d=this._childs[c];d._level==a?d.inflate(0,b):a<this._depth&&d._level<a&&d instanceof td?d.inflate(0,b):d._level>a&&d.offset(0,b)}},_createRootCell:function(){var a=new rd(this._grid);return a.setVisible(!1),a},_layoutChildren:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p=cnt=0,q=this._grid,r=q._dataSource.fieldManager(),s=r.getColumn(b),t=this._values.length,u=q.columnPoints(),v=0==b?this._sumVisible:this._groupSumVisible;for(v&&this._sumPosition==Yc.FIRST&&(l=d,m=c,d+=u[m+t]-u[m],c+=t),f=0,h=a.childs.length;h>f;f++){var w=a.childs[f];if(w.hasOwnProperty("childs")?(n=new pd(q,b),cnt=this._layoutChildren(w,b+1,c,d,n),j=u[c+cnt]-u[c],c+=cnt):(cnt=t,j=u[c+t]-u[c],n=new nd(q,Zc.COLUMN,b),2>t&&this.$_addIndexCell(n,c++)),this.addChild(n),k=q.getColumnLevelSumHeight(0,b-1),i=q.columnLevelHeight(b),n.setBounds(d,k,j,i),n.setLabelField(s),1==t&&n.setValueField(this._values[0]),n.setGroup(e),n.setValue(w.value),n.setText(w.label?w.label:w.value),n.draw(),n.layoutContent(),o=n,p+=cnt,t>1&&!(n instanceof pd))for(g=0;t>g;g++)n=new nd(q,Zc.COLUMN,this._depth),this.addChild(n),j=u[c+1]-u[c],k=q.getColumnLevelSumHeight(0,this._depth-1),i=q.columnLevelHeight(this._depth),n.setBounds(d,k,j,i),this.$_addIndexCell(n,c++),n.setValueLabel(!0),n.setLabelField(s),n.setValueField(this._values[g]),n.setGroup(o),n.setValue(w.value),n.setText(this._values[g].getFieldHeader()),n.draw(),d+=j;else d+=j}if(v&&(void 0===l&&(l=d,m=c),s=r.getColumn(b-1),n=new td(q,Zc.COLUMN,b),this.addChild(n),j=u[m+t]-u[m],k=q.getColumnLevelSumHeight(0,b-1),i=q.getColumnLevelSumHeight(b,this._depth-1),n.setBounds(l,k,j,i),2>t&&this.$_addIndexCell(n,m),1==t&&n.setValueField(this._values[0]),n.setLabelField(s),n.setGroup(e),n.setLabelPosition(this._sumPosition),e.setSummaryCell(n),b>0&&n.setValue(a.value),n.setText(0==b?this._totalText:s.getSummaryLabel(a.value,a.label)),n.draw(),o=n,p+=t,t>1))for(g=0;t>g;g++)n=new td(q,Zc.COLUMN,this._depth),this.addChild(n),j=u[m+1]-u[m],k=q.getColumnLevelSumHeight(0,this._depth-1),i=q.columnLevelHeight(this._depth),n.setBounds(l,k,j,i),this.$_addIndexCell(n,m++),n.setLabelField(s),n.setValueLabel(!0),n.setValueField(this._values[g]),n.setGroup(o),b>0&&n.setValue(a.value),n.setText(this._values[g].getFieldHeader()),n.draw(),l+=j;return p},_layoutCells:function(){this._cellWidth=this._options.columnWidth(),this._sumVisible=this._sumOptions.isColumnVisible(),this._groupSumVisible=this._sumOptions.isColumnGroupVisible(),this._sumPosition=this._sumOptions.columnPosition(),this._totalText=this._sumOptions.columnTotalText(),this._cellHeight=this._options.columnHeight(),this._super()},_doRender:function(a){}}),hd=Ba("RowLabelElement",fd,{init:function(a){this._super(a,"rp-row")},changeWidth:function(a,b){this.setWidth(this._width+b);for(var c=this._childs.length;c--;){var d=this._childs[c];d._level==a?d.inflate(b,0):a<this._depth&&d._level<a&&d instanceof td?d.inflate(b,0):d._level>a&&d.offset(b,0)}},_createRootCell:function(){var a=new sd(this._grid);return a.setVisible(!1),a},_layoutChildren:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n=cnt=0,o=this._grid,p=o._dataSource.fieldManager(),q=p.getRow(b),r=o.rowPoints(),s=0==b?this._sumVisible:this._groupSumVisible;for(s&&this._sumPosition==Yc.FIRST&&(k=d,l=c,d+=r[l+1]-r[l],c++),f=0,g=a.childs.length;g>f;f++){var t=a.childs[f];t.hasOwnProperty("childs")?(m=new qd(o,b),cnt=this._layoutChildren(t,b+1,c,d,m),i=r[c+cnt]-r[c],h=this._groupWidth,c+=cnt):(cnt=1,i=r[c+1]-r[c],h=this._cellWidth,m=new nd(o,Zc.ROW,b),this.$_addIndexCell(m,c++)),this.addChild(m),j=o.getRowLevelSumWidth(0,b-1),h=o.rowLevelWidth(b),m.setBounds(j,d,h,i),m.setLabelField(q),m.setGroup(e),m.setValue(t.value),m.setText(t.label?t.label:t.value),m.draw(),m.layoutContent(),n+=cnt,d+=i}return s&&(void 0===k&&(k=d,l=c),q=p.getRow(b-1),m=new td(o,Zc.ROW,b),this.addChild(m),j=o.getRowLevelSumWidth(0,b-1),h=o.getRowLevelSumWidth(b,this._depth-1),i=r[l+1]-r[l],m.setBounds(j,k,h,i),this.$_addIndexCell(m,l),m.setLabelField(q),m.setGroup(e),m.setLabelPosition(this._sumPosition),e.setSummaryCell(m),b>0&&m.setValue(a.value),m.setText(0==b?this._totalText:q.getSummaryLabel(a.value,a.label)),m.draw(),n++),n},_layoutCells:function(){this._groupWidth=this._options.rowGroupWidth(),this._cellWidth=this._options.rowLabelWidth(),this._sumVisible=this._sumOptions.isRowVisible(),this._groupSumVisible=this._sumOptions.isRowGroupVisible(),this._sumPosition=this._sumOptions.rowPosition(),this._totalText=this._sumOptions.rowTotalText(),this._cellHeight=this._options.rowHeight(),this._super()},_doRender:function(a){}}),id=Ba("BodyElement",Ia,{init:function(a){this._super(a,"rp-body"),this._isContainer=!0,this._options=a.displayOptions()},destroy:function(){this._columnView=null,this._rowView=null,this._valueFields=null,this._values=null,this._super()},columnView:null,rowView:null,valueFields:null,values:null,summaries:null,_layoutCells:function(){this._super();var a,c,d,e,g,h,i,j=this._grid.dataSource().fieldManager(),k=this._columnView.cellIndexes(),l=this._rowView.cellIndexes(),m=k.length,n=l.length,o=this._options.blankFillValue(),p=new Array(m);for(a=0;m>a;a++)p[a]=new Array(n);this.setVisible(!1);var q=0;for(d=this._values.length,a=0;d>a;a++){var r=this._values[a];if(e=this._columnView.findCell(r.cols,r.valueField),g=this._rowView.findCell(r.rows),e&&g){var s=e.index(),t=g.index();p[s][t]=!0,h=new vd(this._grid,t),this.addChild(h),h.setBounds(e.left(),g.top(),e.width(),g.height()),h.setColumnLabel(e),h.setRowLabel(g),i=j.getFieldByName(r.valueField),h.setValueField(i),h.setValue(r),h.draw(),q++}}for(d=this._summaries.length,a=0;d>a;a++){var r=this._summaries[a];if(e=this._columnView.findCell(r.cols,r.valueField,!0),g=this._rowView.findCell(r.rows,null,!0),e&&g){var s=e.index(),t=g.index();p[s][t]=!0,h=new wd(this._grid,g.level(),e.level(),t),this.addChild(h),h.setBounds(e.left(),g.top(),e.width(),g.height()),h.setColumnLabel(e),h.setRowLabel(g),i=j.getFieldByName(r.valueField),h.setValueField(i),h.setValue(r),h.draw(),q++}}for(a=0;m>a;a++)for(c=0;n>c;c++)p[a][c]||(e=k[a],g=l[c],e&&g&&(h=e instanceof td||g instanceof td?new wd(this._grid,g.level(),e.level(),c):new vd(this._grid,c),this.addChild(h),h.setBounds(e.left(),g.top(),e.width(),g.height()),h.setColumnLabel(e),h.setRowLabel(g),i=e.valueField(),h.setValueField(i),f(o)&&h.setValue({value:o}),h.draw(),q++));this.setVisible(!0),b("body cells = "+q)},_doRender:function(a){}}),jd=Ba("PivotCellElement",Ia,{init:function(a,b){this._super(a,"rp-cell "+b)},destroy:function(){this._super()},text:null,_labelPositionCells:function(){},_doRender:function(a){if(this._text){var b=this.$_prepareSpan();b.innerHTML=this._text}}}),kd=Ba("HeaderCellElement",jd,{init:function(a,b){this._super(a,b)},destroy:function(){this._super()},contentsVisible:!0}),ld=Ba("TitleCellElement",kd,{init:function(a){this._super(a,"rp-title"),this._menuImg=N.createElement("img"),this._menuImg.className="rp-title-menu",this._menuImg.style.display="none",this._element.appendChild(this._menuImg)},destroy:function(){this._element.removeChild(this._menuImg),this._super()},menuVisible:!0,setupVisible:!0,_menuButtonClicked:function(a){},_setupButtonClicked:function(a){},_doLayoutContent:function(){this._contentsVisible&&this._menuVisible?this._menuImg.style.display="inline-block":this._menuImg.style.display="none"},_doRender:function(a){}}),md=Ba("LabelHeaderCellElement",kd,{init:function(a,b){var c=b==Zc.VALUE?"rp-value-header":b==Zc.ROW?"rp-row-header":"rp-col-header";this._super(a,c),this._type=b,this._headers=[]},destroy:function(){this._fields=null,this._clearElements(),this._super()},type:null,fields:null,_clearElements:function(){var a,b;for(a=this._headers.length;a--;){var c=this._headers[a];for(b=c.childElementCount;b--;)c.removeChild(c.children[b]);this._element.removeChild(this._headers[a]),delete this._headers[a]}this._headers=[]},_doLayoutContent:function(){this._clearElements();for(var a,b,c,d=this.cssClass()+"-text",e="rp-header-sort",f=0,g=this._fields.length;g>f;f++){a=N.createElement("div"),a.className=d,this._element.appendChild(a),this._headers.push(a),b=N.createElement("span"),b.className=d,a.appendChild(b),b.textContent=this._fields[f].getFieldHeader();var h=this._fields[f].sortDir();h!=Dc.NONE&&(c=N.createElement("img"),c.className=e+" "+e+(h==Dc.ASCENDING?"-asc":"-desc"),a.appendChild(c))}},_doRender:function(a){}}),nd=Ba("LabelCellElement",jd,{init:function(a,b,c){var d;if(this instanceof td)d=b==Zc.ROW?"rp-row-sum":"rp-col-sum",d+=(b==Zc.ROW?" rp-row-sum-":" rp-col-sum-")+(0==c?"tot":c+1);else{var d=b==Zc.ROW?"rp-row-label":"rp-col-label";d+=(b==Zc.ROW?" rp-row-d":" rp-col-d")+(c+1),this instanceof pd?d+=" rp-col-group":this instanceof qd&&(d+=" rp-row-group")}b==Zc.VALUE&&(d+=" rp-value-label"),this._super(a,d),this._type=b,this._level=c,this._lowers=[],this._bodies=[],this._widthOffset=0,this._heightOffset=0},destroy:function(){this.releaseGroup();var a;for(a=this._lowers.length;a--;)delete this._lowers[a];for(this._lowers=[],a=this._bodies.length;a--;)delete this._bodies[a];this._bodies=[],this._labelField=null,this._valueField=null,this._super()},type:null,level:ua,index:ua,valueLabel:!1,labelField:null,valueField:null,value:null,group:null,isRoot:function(){return!1},setGroup:function(a){a.$_addLower(this),this._group=a},releaseGroup:function(){this._group&&this._group.$_removeLower(this),this._group=null},addBody:function(a){this._bodies.push(a)},removeBody:function(a){var b=this._bodies.indexOf(a);b>-1&&this._bodies.splice(b,1)},getDescendants:function(){for(var a=this._lowers.slice(),b=0,c=a.length;c>b;b++){var d=this._lowers[b].getDescendants();a.push.apply(a,d)}return a},getAncestors:function(){for(var a=this.group(),b=[];a&&!a.isRoot();)b.push(a),a=a.group();return b},getFamilyTree:function(){var a=[];return a.push.apply(a,this.getAncestors()),a.push(this),a.push.apply(a,this.getDescendants()),a},$_toggleMembers:function(a){this.setVisible(a);for(var b=this._bodies.length;b--;){var c=this._bodies[b];(!a||c.columnLabel().isVisible()&&c.rowLabel().isVisible())&&c.setVisible(a)}for(b=this._lowers.length;b--;)this._lowers[b].$_toggleMembers(a)},$_offsetMembers:function(a,b){if(this.isVisible()){var c;if(this.offset(a,b),this._type==Zc.ROW){if(0!=b)for(c=this._bodies.length;c--;)this._bodies[c].offset(0,b)}else if(0!=a)for(c=this._bodies.length;c--;)this._bodies[c].offset(a,0);for(c=this._lowers.length;c--;)this._lowers[c].isVisible()&&this._lowers[c].$_offsetMembers(a,b)}},$_inflateGroup:function(a,b,c){for(var d=this._lowers.length;d--;){var e=this._lowers[d];e.isVisible()&&(0!=b&&e._left>a._left||0!=c&&e._top>a._top)&&e.$_offsetMembers(b,c)}this.inflate(b,c),this._group&&this._group.$_inflateGroup(this,b,c)},$_inflateWithLowers:function(a,b){var c;for(this.inflate(a,b),c=this._bodies.length;c--;)this._bodies[c].inflate(a,b);var d=this.$_getVisibleLowers(!0,!0);if(d.length>0){var e=d.length,f=a/e,g=b/e,h=0,i=0;for(c=0;e>c;c++){var j=d[c],k=c==e-1?a-h:f,l=c==e-1?b-i:g;c>0&&j.$_offsetMembers(h,i),j.$_inflateWithLowers(k,l),h+=f,i+=g}}},changeSize:function(a,b){this._group&&this._group.$_inflateGroup(this,a,b),this.$_inflateWithLowers(a,b)},setTop:function(a){this._super(a)},$_addLower:function(a){this._lowers.push(a)},$_removeLower:function(a){var b=this._lowers.indexOf(a);b>-1&&this._lowers.splice(b,1)},_doLayoutContent:function(){},_doRender:function(a){this._super(a)},findLower:function(a,b){for(var c=0,d=this._lowers.length;d>c;c++){var e=this._lowers[c];if(a&&0!=a.length){if(a.length>0&&e.value()==a[0].value)return a.length<2?e instanceof od&&b&&e._lowers.length>0?e._lowers[e._lowers.length-1]:e:e.findLower(a.slice(1,a.length),b)}else if(e instanceof td)return e}},$_getVisibleLowers:function(a,b){for(var c=[],d=0,e=this._lowers.length;e>d;d++){var f=this._lowers[d];!a&&f instanceof td||!f.isVisible()||c.push(this._lowers[d])}return b&&c.sort(function(a,b){var c=a._left+a._top,d=b._left+b._top;return d>c?-1:c>d?1:0}),c}}),od=Ba("GroupCellElement",nd,{init:function(a,b,c){this._super(a,b,c),this._expander=new yd(a,this,!0),this.addChild(this._expander),this._expander.addListener(this),this._expanded=!0,this._sumDeltaX=0,this._sumDeltaY=0,this._deflateW=0,this._deflateH=0},expander:null,summaryCell:null,expand:function(){this._expanded||(this._doExpand(this),this._expanded=!0,this._expander.setExpanded(!0),this.inflate(this._deflateW,this._deflateH),this._group&&this._group.$_inflateGroup(this,this._deflateW,this._deflateH),this._grid._changeClientSize(this._deflateW,this._deflateH))},collapse:function(){this._expanded&&(this._prepareCollapse(),this._doCollapse(this),this._expanded=!1,this._expander.setExpanded(!1),this.inflate(-this._deflateW,-this._deflateH),this._group&&this._group.$_inflateGroup(this,-this._deflateW,-this._deflateH),this._grid._changeClientSize(-this._deflateW,-this._deflateH))},sortByLabel:function(a,b){var c,d=this.$_getVisibleLowers(!1),e=d.length;if(e>1){var f=a[0]==Dc.ASCENDING,g=d[0].labelField();ta.sortLabels(d,g.name(),f,b,0,e-1);var h=this._summaryCell;if(this._type==Zc.COLUMN){var i=this._left;for(h&&h._left==i&&(i+=h._width),c=0;e>c;c++){var j=d[c];j.$_offsetMembers(i-j._left,0),i+=j._width}}else{var k=this._top;for(h&&h._top==k&&(k+=h._height),c=0;e>c;c++){var j=d[c];j.$_offsetMembers(0,k-j._top),k+=j._height}}}if(a.length>1)for(c=0;e>c;c++){var j=d[c];j instanceof od&&j.sortByLabel(a.slice(1,a.length),b)}},sortByValue:function(a,b,c,d){var e,f,g,h,i=[],j=this._type==Zc.COLUMN?"columnLabel":"rowLabel",k=this.$_getVisibleLowers(!1);for(e=0,g=k.length;g>e;e++){var l=this._lowers[e];l instanceof od&&l._summaryCell&&(l=l._summaryCell);var m=l._lowers.length;if(m>0&&l._lowers[0].isValueLabel())for(f=m;f--;)if(l._lowers[f].valueField().name()==b){l=l._lowers[f];break}for(f=0,h=a.length;h>f;f++)if(a[f].getProperty(j)==l){i.push(a[f]);break}}var n=i.length;if(n>1){var o=c==Dc.ASCENDING,p=k[0].labelField();ta.sortValues(i,p.name(),o,d,0,n-1);var q=this._summaryCell;if(this._type==Zc.COLUMN){var r=this._left;for(q&&q._left==r&&(r+=q._width),e=0;n>e;e++){var l=i[e].getProperty(j);l&&(l.isValueLabel()&&(l=l._group),l instanceof td&&(l=l._group),l.$_offsetMembers(r-l._left,0),r+=l._width)}}else{var s=this._top;for(q&&q._top==s&&(s+=q._height),e=0;n>e;e++){var l=i[e].getProperty(j);l&&(l instanceof td&&(l=l._group),l.$_offsetMembers(0,s-l._top),s+=l._height)}}}for(e=0,g=k.length;g>e;e++){var l=k[e];l instanceof od&&k[e].sortByValue(a,b,c,d)}},_prepareCollapse:function(){},_doExpand:function(a){},_doCollapse:function(a){for(var b=this._lowers.length;b--;){var c=this._lowers[b];c instanceof od?(c.setVisible(!1),c._doCollapse(a)):this==a&&c instanceof td?c.$_offsetMembers(this._sumDeltaX,this._sumDeltaY):c.$_toggleMembers(!1)}},$_getExpenderRect:function(){return new Ib(2,2,yd.SIZE,yd.SIZE)},_doLayoutContent:function(){var a=this.$_getExpenderRect();this._expander.setSize(a.width,a.height)},onGroupExpanderExpand:function(){this.expand()},onGroupExpanderCollapse:function(){this.collapse()}}),pd=Ba("ColumnGroupCellElement",od,{init:function(a,b){this._super(a,Zc.COLUMN,b)},_doRender:function(a){this._super(a)},_prepareCollapse:function(){for(var a=$,b=_,c=-1,d=this._lowers.length;d--;){var e=this._lowers[d];e instanceof td?(e._left<a&&(a=e._left),e._left>b&&(b=e._left,c=e.width())):e instanceof pd&&e._prepareCollapse()}this._sumDeltaX=a==$?0:this._left-a,this._deflateW=this.width()-(b+c-this._left)},_doExpand:function(a){for(var b=this._left+(0==this._sumDeltaX?this._summaryCell._width:0),c=0,d=this._lowers.length;d>c;c++){var e=this._lowers[c],f=0==b?0:b-e._left;e instanceof td?this==a?e.$_offsetMembers(-this._sumDeltaX,0):(e.$_toggleMembers(!0),e.$_offsetMembers(e._labelPosition==Yc.FIRST?this._left-e._left:f,0)):(e instanceof od?(e.setVisible(!0),e._doExpand(a)):e.$_toggleMembers(!0),e.$_offsetMembers(f,0)),b+=e._width}}}),qd=Ba("RowGroupCellElement",od,{init:function(a,b){this._super(a,Zc.ROW,b)},_doRender:function(a){this._super(a)},_prepareCollapse:function(){for(var a=$,b=_,c=-1,d=this._lowers.length;d--;){var e=this._lowers[d];e instanceof td?(this._lowers[d]._top<a&&(a=this._lowers[d]._top),e._top>b&&(b=e._top,c=e.height())):e instanceof qd&&e._prepareCollapse()}this._sumDeltaY=a==$?0:this._top-a,this._deflateH=this.height()-(b+c-this._top)},_doExpand:function(a){for(var b=this._top+(this._summaryCell._labelPosition==Yc.FIRST?this._summaryCell._height:0),c=0,d=this._lowers.length;d>c;c++){var e=this._lowers[c],f=0==b?0:b-e._top;e instanceof td?this==a?e.$_offsetMembers(0,-this._sumDeltaY):(e.$_toggleMembers(!0),e.$_offsetMembers(0,e._labelPosition==Yc.FIRST?this._top-e._top:f)):(e instanceof od?(e.setVisible(!0),e._doExpand(a)):e.$_toggleMembers(!0),e.$_offsetMembers(0,f)),b+=e._height}}}),rd=Ba("ColumnRootCellElement",pd,{init:function(a){this._super(a,-1),this.setLeft(0)},isRoot:function(){return!0}}),sd=Ba("RowRootCellElement",qd,{init:function(a){this._super(a,-1),this.setTop(0)},isRoot:function(){return!0}}),td=Ba("LabelSummaryCellElement",nd,{init:function(a,b,c){this._super(a,b,c)},labelPosition:Yc.FIRST,_doLayoutContent:function(){},_doRender:function(a){this._super(a)}}),ud=Ba("BodyCellElement",jd,{init:function(a,b){this._super(a,b)},destroy:function(){this._columnLabel&&this._columnLabel.removeBody(this),this._columnLabel=null,this._rowLabel&&this._rowLabel.removeBody(this),this._rowLabel=null,this._super()},columnLabel:null,rowLabel:null,valueField:null,value:null,setColumnLabel:function(a){a!=this._columnLabel&&(this._columnLabel&&this._columnLabel.removeBody(this),a&&a.addBody(this),this._columnLabel=a)},setRowLabel:function(a){a!=this._rowLabel&&(this._rowLabel&&this._rowLabel.removeBody(this),a&&a.addBody(this),this._rowLabel=a)},setValue:function(a){if(f(a)){var b=this._valueField.expression();this._value=a;var c;c=g(a)?b==yc.AVERAGE?a.value/a.count:a.value:a,this._text=this._valueField.getDisplayText(c)}},_doLayoutContent:function(){},_doRender:function(a){this._super(a)}}),vd=Ba("ValueCellElement",ud,{init:function(a,b){this._super(a,"rp-body-value",b)},_doLayoutContent:function(){},_doRender:function(a){this._super(a)}}),wd=Ba("SummaryCellElement",ud,{init:function(a,b,c,d){var e="rp-body-sum";0==c&&0==b?e+=" rp-body-sum-tot":(c>ua&&(e+=" rp-body-col-sum-"+(0==c?"tot":"d"+c)),b>ua&&(e+=" rp-body-row-sum-"+(0==b?"tot":"d"+b))),this._super(a,e,d)},_doLayoutContent:function(){},_doRender:function(a){this._super(a)}}),xd=Ba("HandleElement",Ja,{init:function(a,b,c){this._super(a,c),this._css.removeProperty("position"),this._cellView=b},cellView:function(){return this._cellView}}),yd=Ba("GroupExpander",xd,{init:function(a,b,c){this._expanded=arguments.length>2?c:!0,this._super(a,b,this.$_getCssClass())},destroy:function(){this._super()},expanded:!0,setExpanded:function(a){this._expanded!=a&&(this._expanded=a,this.setCssClass(this.$_getCssClass()))},$_getCssClass:function(){return"rp-expander "+(this._expanded?"rp-expander-expand":"rp-expander-collapse")},_doClick:function(a){this._expanded?this.fireEvent(yd.COLLAPSE):this.fireEvent(yd.EXPAND)}},{SIZE:15});yd.EXPAND="onGroupExpanderExpand",yd.COLLAPSE="onGroupExpanderCollapse";var zd=Ba("LayerElement",Ga,{init:function(a){this._super(),this._grid=a,this._element.style.pointerEvents="none",this._css.position="absolute",this._layers=[]},destroy:function(){var a=0;for(this._layers.length;a<len;a++)this._element.removeChild(this._layers[0]);this._layers=[],this._super()},isLayer:function(){return!0}}),Ad=function(){var a=new Image;a.src="data:image/png;base64,"+Nd,a.style.position="absolute",a.style.pointerEvents="none";var b=new zd;return b.setVisible(!1),b._element.appendChild(a),b.resize=function(b,c){this.setVisible(!0),this.setSize(b,c),a.style.left=(this.width()-a.width)/2+va,a.style.top=(this.height()-a.height)/2+va},b},Bd={LINE_UP:"lineUp",LINE_DOWN:"lineDown",LINE_LEFT:"lineLeft",LINE_RIGHT:"lineRight",PAGE_UP:"pageUp",PAGE_DOWN:"pageDown",PAGE_LEFT:"pageLeft",PAGE_RIGHT:"pageRight",WHEEL_X:"wheelX",WHEEL_Y:"wheelY",THUMB_TRACK:"thumbTrack",THUMB_END:"thumbEnd"},Cd=Ba("ScrollContainer",Ga,{init:function(a){this._super(),this._owner=a,this._isContainer=!0,this._css.position="absolute",this._hscrollBar=new Dd(a,this,!1),this.addChild(this._hscrollBar),this._vscrollBar=new Dd(a,this,!0),this.addChild(this._vscrollBar),this._hscrollBar.addListener(this),this._vscrollBar.addListener(this),this._corner=new Gd(a),this.addChild(this._corner),this._scrollWidth=0,this._scrollHeight=0},destroy:function(){this._super(),this._hscrollBar=null,this._vscrollBar=null,this._corner=null},hscrollBar:null,vscrollBar:null,hscrollable:!1,vscrollable:!1,scrollBarSize:15,leftPos:0,topPos:0,setLeftPos:function(a){a!=this._leftPos&&(a=fa(0,ea(a,this._maxWidth-this._scrollWidth)),this._owner.scrollTo(a-this._leftPos,0),this._leftPos=a)},setTopPos:function(a){a!=this._topPos&&(a=fa(0,ea(a,this._maxHeight-this._scrollHeight)),this._owner.scrollTo(0,a-this._topPos),this._topPos=a)},wheelScroll:function(a,b){var c=!1;return this._hscrollable&&(c=this._hscrollBar._doScroll(Bd.WHEEL_X,-a,0)),this._vscrollable&&(c=c||this._vscrollBar._doScroll(Bd.WHEEL_Y,-b,0)),c},clientWidth:function(){return this._width-(this._vscrollable?this._scrollBarSize:0)},clientHeight:function(){return this._height-(this._hscrollable?this._scrollBarSize:0)},updateScroll:function(a,b,c,d,e){var f=a.clone();this.setRect(f);var g=b+d,h=c+e;this._measure(g,h),this._maxWidth=b,this._maxHeight=c;var i,j;this.layoutContent(),this._hscrollable&&(i=b,this._scrollWidth=f.width-d-(this._vscrollable?this._scrollBarSize:0),j=Math.min(this._scrollWidth,b-this._leftPos),this._hscrollBar.setProperties(0,i,j),this._hscrollBar.setPosition(this._leftPos)),this._vscrollable&&(i=c,this._scrollHeight=f.height-e-(this._hscrollable?this._scrollBarSize:0),j=Math.min(this._scrollHeight,c-this._topPos),this._vscrollBar.setProperties(0,i,j),this._vscrollBar.setPosition(this._topPos))},_measure:function(a,b){this._hscrollable=a>this._width,this._vscrollable=b>this._height;var c=this._scrollBarSize;this._hscrollable&&(this._vscrollable=b>this._height-c),this._vscrollable&&(this._hscrollable=a>this._width-c)},_doLayoutContent:function(){var a=this._width,b=this._height,c=this._scrollBarSize,d=this._vscrollable?c:0,e=this._hscrollable?c:0;this._hscrollBar.setVisible(this._hscrollable),this._hscrollable&&this._hscrollBar.setBounds(0,b-c,a-d,c),this._vscrollBar.setVisible(this._vscrollable),this._vscrollable&&this._vscrollBar.setBounds(a-c,0,c,b-e),this._corner.setVisible(this._hscrollable&&this._vscrollable),this._corner.isVisible()&&this._corner.setBounds(a-c,b-c,c,c)},onScrollBarScrolled:function(a,b,c,d){var e=a.getScrollUnit(b);if(a.isVertical())switch(b){case Bd.LINE_DOWN:case Bd.LINE_UP:case Bd.PAGE_DOWN:case Bd.PAGE_UP:this.setTopPos(this.topPos()+c*e);break;case Bd.WHEEL_Y:this.setTopPos(this.topPos()+c);break;default:this.setTopPos(d)}else switch(b){case Bd.LINE_RIGHT:case Bd.LINE_LEFT:case Bd.PAGE_RIGHT:case Bd.PAGE_LEFT:this.setLeftPos(this.leftPos()+c*e);break;case Bd.WHEEL_X:this.setLeftPos(this.leftPos()+c);break;default:this.setLeftPos(d)}}}),Dd=Ba("ScrollBar",Ja,{init:function(a,b,c){this._super(a,"rp-sbar"),this._vertical=c,this._container=b,this._nearButton=new Ed(a,this,!1),this.addChild(this._nearButton),this._farButton=new Ed(a,this,!0),this.addChild(this._farButton),this._thumb=new Fd(a,this),this.addChild(this._thumb),this._buttonSize=20,this._min=0,this._max=0,this._pos=0,this._page=0,this._maxPosition=0},destroy:function(){this._super(),this._nearButton=null,this._farButton=null,this._thumb=null},linescrollBarSize:1,
pagescrollBarSize:10,minThumbSize:20,isVertical:function(){return this._vertical},maxPosition:function(){return this._maxPosition},getScrollUnit:function(a){switch(a){case Bd.LINE_DOWN:case Bd.LINE_UP:case Bd.LINE_RIGHT:case Bd.LINE_LEFT:return Dd.SCROLL_LINE_SIZE*this.linescrollBarSize();case Bd.PAGE_DOWN:case Bd.PAGE_UP:case Bd.PAGE_RIGHT:case Bd.PAGE_LEFT:return Dd.SCROLL_LINE_SIZE*this.pagescrollBarSize();default:return 1}},setProperties:function(a,b,c){a=Math.max(0,a),b=Math.max(a,b),(a!=this._min||b!=this._max||c!=this._page)&&(this._min=a,this._max=b,this._page=c,this._pos=Math.min(this._max,Math.max(this._min,this._pos)),this._maxPosition=Math.max(0,this._max-this._page),this._doLayoutContent())},setPosition:function(a){return a=Math.min(this._maxPosition,Math.max(this._min,a)),a!=this._pos?(this._pos=a,this._doLayoutContent(),!0):!1},ptInTrack:function(a,b,c){var d=this.containerToElement(a,b);if(this._vertical){if(d.y>=this._nearButton.height()&&d.x<this._farButton.y())return!c&&d.y<this._thumb.y()||c&&d.y>=this._thumb.bottom()}else if(a>=this._nearButton.width()&&a<this._farButton.x())return!c&&d.x<this._thumb.x()||c&&d.x>=this._thumb.right();return!1},_doLayoutContent:function(){var a=this._vertical,b=this._buttonSize,c=(a?this._height:this._width)-2*b,d=Math.min(c,Math.max(this._minThumbSize,da(c*this._page/(this._max-this._min+1)))),e=b+Math.min(c-d,Math.max(0,da((c-d)*this._pos/(this._maxPosition-this._min))));a?(this._nearButton.setBounds(0,0,this._width,b),this._farButton.setBounds(0,this._height-b,this._width,b),c>=d&&this._thumb.setBounds(1,e,this._width-2,d)):(this._nearButton.setBounds(0,0,b,this._height),this._farButton.setBounds(this._width-b,0,b,this._height),c>=d&&this._thumb.setBounds(e,1,d,this._height-2))},_doScroll:function(a,b,c){var d=!1;return 0!=b?d=this.setPosition(this._pos+b*this.getScrollUnit(a)):c&&(d=this.setPosition(c)),d&&this.fireEvent(Dd.SCROLLED,a,b,c),d},_mouseOut:function(){this._nearButton.setPressed(!1),this._farButton.setPressed(!1),this._thumb.setPressed(!1)},_doClick:function(a,b){this._vertical?b<this._thumb.top()?this._doScroll(Bd.PAGE_UP,-1,0):this._doScroll(Bd.PAGE_DOWN,1,0):a<this._thumb.left()?this._doScroll(Bd.PAGE_LEFT,-1,0):this._doScroll(Bd.PAGE_RIGHT,1,0)}});Dd.SCROLL_LINE_SIZE=20,Dd.SCROLLED="onScrollBarScrolled";var Ed=Ba("ScrollButton",Ja,{init:function(a,b,c){var d=this.$_getClassName(b.isVertical(),c);this._super(a,d),this._scrollBar=b,this._far=c},destroy:function(){this._scrollBar=null,this._super()},far:!1,enabled:!0,pressed:!1,setPressed:function(a){a!=this._pressed&&(this.setCssClass(this.$_getClassName(this.isVertical(),this._far,a)),this._pressed=a)},isVertical:function(){return this._scrollBar.isVertical()},scrollBar:function(){return this._scrollBar},_doClick:function(a,b){this.isVertical()?this._far?this._scrollBar._doScroll(Bd.LINE_DOWN,1,0):this._scrollBar._doScroll(Bd.LINE_UP,-1,0):this._far?this._scrollBar._doScroll(Bd.LINE_RIGHT,1,0):this._scrollBar._doScroll(Bd.LINE_LEFT,-1,0)},$_getClassName:function(a,b,c){var d=c?"rp-sbar-button-pressed":"rp-sbar-button",e=a?"rp-sbar-v":"rp-sbar-h";return e+=b?"fbutton":"nbutton",d+" "+e}}),Fd=Ba("ScrollThumb",Ja,{init:function(a,b){this._scrollBar=b,this._request=null,this._super(a,this.$_getClassName())},pressed:!1,setPressed:function(a){a!=this._pressed&&(this.setCssClass(this.$_getClassName(a)),this._pressed=a)},destroy:function(){this._scrollBar=null,this._request=null,this._super()},scrollBar:function(){return this._scrollBar},isVertical:function(){return this._scrollBar._vertical},getRequest:function(){return this._request||(this._request=new Hd(this)),this._request},getTracker:function(a,b){return new Id},$_getClassName:function(a){return cls=a?"rp-sbar-thumb-pressed":"rp-sbar-thumb"}}),Gd=Ba("ScrollBarCorner",Ia,{init:function(a){this._super(a,"rp-sbar-corner")}}),Hd=Ba("ScrollThumbRequest",Kc,{init:function(a){this._super(),this._thumb=a},thumb:function(){return this._thumb},scrollBar:function(){return this._thumb.scrollBar()},cursor:function(){return Pb.POINTER},isSelectable:function(){return!1}}),Id=Ba("ScrollThumbTracker",Rc,{init:function(a,b,c){this._super(a.scrollBar().grid(),"scrollThumbTracker"),this._request=a,this._thumb=a.thumb(),this._scrollBar=a.scrollBar(),this._vertical=this._scrollBar.isVertical();var d=this._scrollBar.clientToContainer(b,c);this._scrollBar.isVertical()?this._offset=d.y-this._thumb.top():this._offset=d.x-this._thumb.left()},destroy:function(){this._request=null,this._thumb=null,this._scrollBar=null,this._super()},isStartWhenCreated:function(){return!0},_doStart:function(a,b){return this._thumb.setPressed(!0),!0},_doDrag:function(a,b){return this.$_doScroll(a,b,Bd.THUMB_TRACK)},_doCompleted:function(a,b){return this.$_doScroll(a,b,Bd.THUMB_END)},_doCanceled:function(a,b){},_doEnded:function(){this._thumb.setPressed(!1)},$_doScroll:function(a,b,c){var d=this._scrollBar._maxPosition-this._scrollBar._min+1,e=this._scrollBar._buttonSize,f=this._scrollBar.clientToContainer(a,b);if(this._scrollBar.isVertical()){var g=this._scrollBar.height()-2*e-this._thumb.height();if(0>=g)return;f.y-=this._offset,f.y=(f.y-e)*d/g,this._scrollBar._doScroll(c,0,da(f.y))}else{var g=this._scrollBar.width()-2*e-this._thumb.width();if(0>=g)return;f.x-=this._offset,f.x=(f.x-e)*d/g,this._scrollBar._doScroll(c,0,da(f.x))}return!0}}),Jd="__isSum",Kd=Ba("PivotView",Ga,{init:function(a){this._super(),this._container=a,this._container.appendChild(this._element),this.setParentElement(this._container),this._element.className="rp",this._css.position="relative",this._eventHandlers={},this._eventNodes=[],this._activeTool=this._createDefaultTool(),this._displayOptions=new _c,this._summaryOptions=new ad,this._headerOptions=new bd,this._noreadyView=new dd(this),this.addChild(this._noreadyView),this._emptyView=new cd(this),this.addChild(this._emptyView),this._bodyContainer=new Ha,this.addChild(this._bodyContainer),this._rowContainer=new Ha,this.addChild(this._rowContainer),this._colContainer=new Ha,this.addChild(this._colContainer),this._bodyView=new id(this),this._bodyContainer.addChild(this._bodyView),this._rowView=new hd(this),this._rowContainer.addChild(this._rowView),this._columnView=new gd(this),this._colContainer.addChild(this._columnView),this._headerView=new ed(this),this.addChild(this._headerView),this._layerView=new zd(this),this.addChild(this._layerView),this._scrollContainer=new Cd(this),this.addChild(this._scrollContainer),this.addLayerElement(Ad()),this._registerListners(),this._layouted=!1,this._offsetX=0,this._offsetY=0,this._valueNames=[],this._orgColumnWidths=[],this._orgRowHeights=[],this._columnPoints=[],this._rowPoints=[],this._columnLevelHeights=[],this._rowLevelWidths=[],this._titleHeight=0,this._columnHeight=0,this._colsWidth=0,this._rowsHeight=0,this._centralPt=new Kb,this.resetSize()},destroy:function(){this.$_removeListenerAll(),ta.freeAndNull(this._headerView),ta.freeAndNull(this._columnView),ta.freeAndNull(this._rowView),ta.freeAndNull(this._bodyView),ta.freeAndNull(this._scrollContainer),ta.freeAndNull(this._layerView),ta.freeAndNull(this._emptyView),ta.freeAndNull(this._noreadyView),ta.freeAndNull(this._bodyContainer),ta.freeAndNull(this._rowContainer),ta.freeAndNull(this._colContainer),ta.freeAndNull(this._displayOptions),ta.freeAndNull(this._summaryOptions),ta.freeAndNull(this._headerOptions),this._centralPt=null,this._container=null,this._dataSource=null,this._super()},displayOptions:null,headerOptions:null,summaryOptions:null,dataSource:null,columnView:function(){return this._columnView},rowView:function(){return this._rowView},columnPoints:function(){return this._columnPoints},rowPoints:function(){return this._rowPoints},titleHeight:function(){return this._titleHeight},columnWidth:function(){return this._colsWidth},columnHeight:function(){return this._columnHeight},rowWidth:function(){return this._rowWidth},rowHeight:function(){return this._rowsHeight},columnLevelHeight:function(a){return this._columnLevelHeights[a]},rowLevelWidth:function(a){return this._rowLevelWidths[a]},columnLevelHeights:function(){return this._columnLevelHeights},rowLevelWidths:function(){return this._rowLevelWidths},getColumnLevelSumHeight:function(a,b){a=fa(a,0),b=ea(b,this._columnLevelHeights.length-1);for(var c=0,d=a;b>=d;d++)c+=this._columnLevelHeights[d];return c},getRowLevelSumWidth:function(a,b){a=fa(a,0),b=ea(b,this._rowLevelWidths.length-1);for(var c=0,d=a;b>=d;d++)c+=this._rowLevelWidths[d];return c},leftPos:function(){return this._scrollContainer.leftPos()},topPos:function(){return this._scrollContainer.topPos()},setOrgColumnWidth:function(a,b){var c=a,d={};a instanceof td&&(d[Jd]=!0);var e;(e=a.valueField())&&(d[e.name()]="");for(var f;c&&!c.isRoot()&&(f=c.labelField());)d[f.name()]=c.value(),c=c.group();for(var g=this._orgColumnWidths.length;g--;){var h=this._orgColumnWidths[g];if(r(h,d,"width"))return void(h.width=b)}d.width=b,this._orgColumnWidths.push(d)},setOrgRowHeight:function(a,b){var c=a,d={};a instanceof td&&(d[Jd]=!0);for(var e;c&&!c.isRoot()&&(e=c.labelField());)d[e.name()]=c.value(),c=c.group();for(var f=this._orgRowHeights.length;f--;){var g=this._orgRowHeights[f];if(r(g,d,"height"))return void(g.height=b)}d.height=b,this._orgRowHeights.push(d)},changeColumnLevelHeight:function(a,b){c("changeColumnLevelHeight "+a+b),this._headerView.changeTitleSize(0,b),this._columnView.changeHeight(a,b),this._rowContainer.shift(0,b),this._bodyContainer.shift(0,b),this._centralPt.y+=b,this._updateScroll();var d=this._columnLevelHeights[a]+b;this._columnLevelHeights[a]=d},changeRowLevelWidth:function(a,b){c("changeRowLevelHeight "+a+b),this._headerView.changeTitleSize(b,0),this._rowView.changeWidth(a,b),this._colContainer.shift(b,0),this._bodyContainer.shift(b,0),this._centralPt.x+=b,this._updateScroll();var d=this._rowLevelWidths[a]+b;this._rowLevelWidths[a]=d},_registerListners:function(){var a=this._element;this._addListener(M,"resize",this._resizeHandler.bind(this),!1),this._addListener(a,"keydown",this._keyDownHandler.bind(this),!1),this._addListener(a,"keyup",this._keyUpHandler.bind(this),!1),this._addListener(a,"keypress",this._keyPressHandler.bind(this),!1),this._addListener(a,"click",this._clickHandler.bind(this),!1),this._addListener(a,"dblclick",this._dblclickHandler.bind(this),!1),this._addListener(a,"mousedown",this._mouseDownHandler.bind(this),!1),this._addListener(M,"mousemove",this._mouseMoveHandler.bind(this),!1),this._addListener(M,"mouseup",this._mouseUpHandler.bind(this),!1),this._addListener(a,"mouseenter",this._mouseEnterHandler.bind(this),!1),this._addListener(a,"mouseleave",this._mouseLeaveHandler.bind(this),!1),this._addListener(a,"mouseover",this._mouseOverHandler.bind(this),!1),this._addListener(a,"touchstart",this._touchStartHandler.bind(this),!1),this._addListener(a,"touchmove",this._touchMoveHandler.bind(this),!1),this._addListener(a,"touchend",this._touchEndHandler.bind(this),!1),this._addListener(a,"touchcancel",this._touchCancelHandler.bind(this),!1),this._addListener(a,"touchleave",this._touchLeaveHandler.bind(this),!1),ja?this._addListener(a,"DOMMouseScroll",this._mouseScrollHandler.bind(this),!1):this._addListener(a,"mousewheel",this._mouseWheelHandler.bind(this),!1)},_addListener:function(a,b,c,d){a in this._eventHandlers||(this._eventHandlers[a]={}),b in this._eventHandlers[a]||(this._eventHandlers[a][b]=[]),this._eventHandlers[a][b].push([c,d]),M.addEventListener?a.addEventListener(b,c,d):a.attachEvent(b,c,d),this._eventNodes.indexOf(a)<0&&this._eventNodes.push(a)},_removeListenerAll:function(){for(var a=this._eventNodes,b=0,c=a.length;c>b;b++){var d=a[b];if(d in this._eventHandlers){var e=this._eventHandlers[d];for(var f in e){for(var g=e[f],h=g.length;h--;){var i=g[h];M.removeEventListener?d.removeEventListener(f,i[0],i[1]):d.detachEvent(f,i[0]),delete g[h]}delete f}delete e}delete d}delete a},_createDefaultTool:function(){return new Xc(this)},$_initLabelPoints:function(a,b,c,d,e,f,g,h){d&&f&&h(b,c,!0,g);for(var i=0,j=a.length;j>i;i++){var k=a[i],l=b.concat(k.name),m=c.concat(k.value);k.hasOwnProperty("childs")?this.$_initLabelPoints(k.childs,l,m,e,e,f,g,h):h(l,m,!1,g)}d&&!f&&h(b,c,!0,g)},$_addColumnPoints:function(a,b,c,d){for(var e=this._columnPoints.length,g=this._columnPoints[e-1],h=0;h<this._valueNames.length;h++){var i=this.$_findOrgColumnWidth(a.concat(this._valueNames[h]),b.concat(""),c);f(i)||(i=d),this._columnPoints.push(g+i),g+=i}},$_addRowPoints:function(a,b,c,d){var e=this._rowPoints.length,g=this._rowPoints[e-1],h=this.$_findOrgRowHeight(a,b,c);f(h)||(h=d),this._rowPoints.push(g+h)},$_findOrgColumnWidth:function(a,b,c){for(var d={},e=a.length;e--;)d[a[e]]=b[e];for(c&&(d[Jd]=!0),e=this._orgColumnWidths.length;e--;){var f=this._orgColumnWidths[e];if(r(d,f,"width"))return f.width}return null},$_findOrgRowHeight:function(a,b,c){for(var d={},e=a.length;e--;)d[a[e]]=b[e];c&&(d[Jd]=!0);for(var e=this._orgRowHeights.length;e--;){var f=this._orgRowHeights[e];if(r(d,f,"height"))return f.height}return null},$_calcLabelPoints:function(){var a=this._dataSource,b=this._displayOptions,c=b.columnWidth(),d=b.columnHeight(),e=b.rowHeight(),f=b.rowLabelWidth(),g=b.rowGroupWidth(),h=this._summaryOptions,j=h.columnPosition()==Yc.FIRST,k=h.rowPosition()==Yc.FIRST,l=h.isColumnVisible(),m=h.isColumnGroupVisible(),n=h.isRowVisible(),o=h.isRowGroupVisible(),p=a.fieldManager();this._valueNames=p.getValueNames();var q=this._valueNames.length,r=p.columnCount(),s=p.rowCount(),t=r+(q>1?1:0),u=s;for(this._columnPoints=[0],this._rowPoints=[0],this.$_initLabelPoints(a._columnLabels,[],[],l,m,j,c,this.$_addColumnPoints.bind(this)),this.$_initLabelPoints(a._rowLabels,[],[],n,o,k,e,this.$_addRowPoints.bind(this)),this._columnHeight=0,i=0;i<t;i++)this._columnLevelHeights[i]||(this._columnLevelHeights[i]=d),this._columnHeight+=this._columnLevelHeights[i];for(this._rowWidth=0,i=0;i<u;i++)this._rowLevelWidths[i]||(this._rowLevelWidths[i]=i==u-1?f:g),this._rowWidth+=this._rowLevelWidths[i]},_updateScroll:function(a){if(!a){var a=this.clientRect();a.inflate(0,0,-this._spaceWidth,-this._spaceHeight)}this._scrollContainer.updateScroll(a,this._colsWidth,this._rowsHeight,this._centralPt.x,this._centralPt.y)},_doLayoutContent:function(){var a=this._dataSource,b=a.fieldManager(),c=this._headerOptions,d=(this._displayOptions,this.clientRect()),e=this._layerView;if(this._scrollContainer.setLeftPos(0),this._scrollContainer.setTopPos(0),this._columnView._clearCells(),this._rowView._clearCells(),this._bodyView._clearCells(),e.setRect(d),cr=d.clone(),cr.inflate(0,0,-this._spaceWidth,-this._spaceHeight),a.isEmpty())this._noreadyView.setRectI(cr),this._noreadyView.layoutContent();else if(a.isDataEmpty())this._emptyView.setRectI(cr),this._emptyView.layoutContent();else{this._noreadyView.setVisible(!1),this._emptyView.setVisible(!1),this.$_calcLabelPoints();var f=this._titleHeight=c.isTitleVisible()||c.isColumnHeadVisible()?c.titleHeight():0;this._centralPt.set(this._rowWidth,f+this._columnHeight);var g=this._colsWidth=this._columnPoints[this._columnPoints.length-1],h=this._rowsHeight=this._rowPoints[this._rowPoints.length-1];this._updateScroll(cr),this._scrollContainer.isHscrollable()&&(cr.height-=this._scrollContainer.scrollBarSize()),this._scrollContainer.isVscrollable()&&(cr.width-=this._scrollContainer.scrollBarSize());var i=cr.width-this._centralPt.x,j=cr.height-this._centralPt.y;this._rowContainer.setBounds(0,this._centralPt.y,cr.width,j),this._colContainer.setBounds(this._centralPt.x,f,i,cr.height),this._columnView.setBounds(0,0,g,this._centralPt.y-f),this._columnView.setLabels(a._columnLabels),this._columnView.setDepth(b.columnCount()),this._columnView.setValues(b.getValues()),this._columnView.layoutContent(),this._rowView.setBounds(0,0,this._centralPt.x,h),this._rowView.setLabels(a._rowLabels),this._rowView.setDepth(b.rowCount()),this._rowView.layoutContent();var k=cr.clone();k.height=this._centralPt.y,this._headerView.setColumnFields(b.getColumns()),this._headerView.setRowFields(b.getRows()),this._headerView.setValueFields(b.getValues()),this._headerView.setRectI(k),this._headerView.layoutContent(),this._bodyContainer.setBounds(this._centralPt.x,this._centralPt.y,i,j);var l=new Ib(0,0,g,h);this._bodyView.setRectI(l),this._bodyView.setColumnView(this._columnView),this._bodyView.setRowView(this._rowView),this._bodyView.setValueFields(b.getValues()),this._bodyView.setValues(a._values),this._bodyView.setSummaries(a._summaries),setTimeout(function(){this._bodyView.layoutContent();var a=this._scrollContainer.clientWidth(),b=this._scrollContainer.clientHeight();this._colContainer.resize(a-this._centralPt.x,b-this._centralPt.y),this._headerView.setWidth(a)}.bind(this),0)}this._layouted=!0,setTimeout(function(){e.getChild(0).resize(d.width,d.height)})},_doRender:function(a){},draw:function(){this.layoutContent()},setDataSource:function(a){Y(a instanceof Jc,"dataSource must be PivotDataProvider"),this._dataSource=a,a.addListener(this)},onPivotDataRefreshed:function(){this._layouted&&this.layoutContent()},setOptions:function(a){a.display&&this._displayOptions.assign(a.display),a.summary&&this._summaryOptions.assign(a.summary),a.header&&this._headerOptions.assign(a.header)},getOptions:function(){return{display:this._displayOptions.proxy(),summary:this._summaryOptions.proxy(),header:this._headerOptions.proxy()}},_changeClientSize:function(a,b){},setCursor:function(a){this._css.cursor=a},resetSize:function(){var a=this._container.getBoundingClientRect();this._calcOuterSpace(),a.width-=this._spaceWidth,a.height-=this._spaceHeight,this.setBounds(0,0,a.width,a.height);var b=this._container.getBoundingClientRect();if((a.width!=b.width||a.height!=b.height)&&(b.width-=this._spaceWidth,b.height-=this._spaceHeight,this.setBounds(0,0,b.width,b.height),a=b),this._layouted){var c=this._scrollContainer.clientWidth(),d=this._scrollContainer.clientHeight(),e=c-this._centralPt.x,f=d-this._centralPt.y;this._headerView.setWidth(c),this._colContainer.setWidth(e),this._rowContainer.setHeight(f),this._bodyContainer.resize(e,f),this._updateScroll()}},scrollTo:function(a,b){0!=a&&(this._columnView.offset(-a,0),this._bodyView.offset(-a,0)),0!=b&&(this._rowView.offset(0,-b),this._bodyView.offset(0,-b))},sort:function(a){var b=this._dataSource.fieldManager(),c=b.getColumns(),d=b.getRows(),e=b.getValues(),f=a.comparer?a.comparer:sa;b.clearSortDirs(),a.column&&this.$_sortView(a.column,this._columnView,this._rowView,c,e,f),a.row&&this.$_sortView(a.row,this._rowView,this._columnView,d,e,f),this._headerView.layoutContent()},$_sortView:function(a,b,c,d,e,f){if(a.method==Cc.LABEL){var g=a.labels;Y(g,"[sort] No 'labels' attribute in config.");for(var h=[],i=0,j=d.length;j>i;i++){var k=Dc.ASCENDING;if(g)for(var l=d[i].name(),m=0,n=g.length;n>m;m++)if(g[m].name==l){k=g[m].direction,d[i].setSortDir(k);break}h.push(k)}b.sortByLabel(h,f)}else{for(var o=!a.conditions||a.conditions.length<c.depth(),p=a.fieldName,q=c.findCell(a.conditions,p,o),k=a.direction?a.direction:Dc.ASCENDING,i=e.length;i--;)e[i].name()==p&&e[i].setSortDir(k);b.sortByRef(q,p,k,f)}},addLayerElement:function(a){return a&&!this._layerView.contains(a)?(this._layerView.addChild(a),!0):!1},removeLayerElement:function(a){return this._layerView.contains(a)?(this._layerView.removeChild(a),!0):!1},toOffset:function(a){var b=this._element,c=b.getBoundingClientRect();return a.mouseX=a.clientX-c.left,a.mouseY=a.clientY-c.top,a},toScreen:function(a){return a.x+=this._offsetX,a.y+=this._offsetY,a},_resizeHandler:function(a){this.resetSize()},_keyDownHandler:function(a){if(this._activeTool){ha&&a.metaKey||!ha&&a.ctrlKey;this._activeTool.keyDown(a.keyCode,a.ctrlKey,a.shiftKey,a.altKey)}},_keyUpHandler:function(a){if(this._activeTool){ha&&a.metaKey||!ha&&a.ctrlKey;this._activeTool.keyUp(a.keyCode,a.ctrlKey,a.shiftKey,a.altKey)}},_keyPressHandler:function(a){this._activeTool&&this._activeTool.keyPress(a.keyCode)},_clickHandler:function(a){this._activeTool&&this._activeTool.click(this.toOffset(a))},_dblclickHandler:function(a){this._activeTool&&this._activeTool.dblclick(this.toOffset(a))},_mouseDownHandler:function(a){this._activeTool&&this._activeTool.mouseDown(this.toOffset(a))},_mouseMoveHandler:function(a){this._activeTool&&this._activeTool.mouseMove(this.toOffset(a))},_mouseUpHandler:function(a){this._activeTool&&this._activeTool.mouseUp(this.toOffset(a))},_mouseEnterHandler:function(a){this._activeTool&&this._activeTool.mouseEnter(this.toOffset(a))},_mouseLeaveHandler:function(a){this._activeTool&&this._activeTool.mouseLeave(this.toOffset(a))},_mouseOverHandler:function(a){this._activeTool&&this._activeTool.mouseLeave(this.toOffset(a))},_mouseWheelHandler:function(a){this._activeTool&&this._activeTool.mouseWheel(this.toOffset(a))&&z(a)},_mouseScrollHandler:function(a){this._activeTool&&(a.wheelDelta=3*-a.detail,this._activeTool.mouseWheel(this.toOffset(a))&&z(a))},_touchStartHandler:function(a){this._activeTool&&this._activeTool.touchStart(a)},_touchMoveHandler:function(a){this._activeTool&&this._activeTool.touchMove(a)},_touchEndHandler:function(a){this._activeTool&&this._activeTool.touchEnd(a)},_touchCancelHandler:function(a){this._activeTool&&this._activeTool.touchCancel(a)},_touchLeaveHandler:function(a){this._activeTool&&this._activeTool.touchEnd(a)}}),Ld=Ba("PivotSetupView",null,{init:function(a){this._super(),this._container=a},destroy:function(){this._container=null}}),Md="dkdl",Nd=function(){return"iVBORw0KG"+R+"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";
}();return xa()?{PivotDataProvider:Jc,PivotView:Kd,PivotSetupView:Ld,getVersion:P}:null}(this),RealPivot=function(a){"string"==typeof a&&(a=document.getElementById(a)),this._provider=new RealPivotClass.PivotDataProvider,this._view=new RealPivotClass.PivotView(a),this._view.setDataSource(this._provider),this._setupView=new RealPivotClass.PivotSetupView(a),this.destroy=function(){this._view.destroy(),this._view=null,this._setupView.destroy(),this._setupView=null,this._provider.destroy(),this._provider=null},this.getVersion=function(){return RealPivotClass.getVersion()},this.setDataProvider=function(a){this._provider.setDataSource(a)},this.setFieldMapping=function(a){this._provider.setFieldMapping(a)},this.setPivotFields=function(a){this._provider.setPivotFields(a)},this.getOptions=function(){return this._view.getOptions()},this.setOptions=function(a){this._view.setOptions(a)},this.buildPivot=function(){this._provider.buildPivotData()},this.drawView=function(){this._view.draw()},this.resetSize=function(){this._view.resetSize()},this.sort=function(a){this._view.sort(a)},this.filter=function(a){this._provider.filter(a),this._provider.buildPivotData()}};